# ğŸ¢ ì§ì› RPG ì‹œìŠ¤í…œ êµ¬í˜„ ì›Œí¬í”Œë¡œìš°

**í”„ë¡œì íŠ¸:** Retro Stock OS - Big Ambitions ìŠ¤íƒ€ì¼ ì§ì› ê´€ë¦¬ ì‹œìŠ¤í…œ
**ìƒì„±ì¼:** 2026-02-14
**ì˜ˆìƒ ê¸°ê°„:** 2ì£¼ (60ì‹œê°„)
**ìš°ì„ ìˆœìœ„:** High (Sprint 2-3 í†µí•© ê¸°ëŠ¥)

---

## ğŸ“‹ ëª©ì°¨

1. [ê¸°íš ê°œìš”](#ê¸°íš-ê°œìš”)
2. [í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„](#í˜„ì¬-ì½”ë“œë² ì´ìŠ¤-ë¶„ì„)
3. [êµ¬í˜„ ì „ëµ](#êµ¬í˜„-ì „ëµ)
4. [ìƒì„¸ íƒœìŠ¤í¬ ëª©ë¡](#ìƒì„¸-íƒœìŠ¤í¬-ëª©ë¡)
5. [ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨](#ì˜ì¡´ì„±-ë‹¤ì´ì–´ê·¸ë¨)
6. [ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸](#ê²€ì¦-ì²´í¬ë¦¬ìŠ¤íŠ¸)
7. [ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ì±…](#ìœ„í—˜-ìš”ì†Œ-ë°-ëŒ€ì‘ì±…)
8. [ë‹¤ìŒ ë‹¨ê³„](#ë‹¤ìŒ-ë‹¨ê³„)

---

## ê¸°íš ê°œìš”

### í•µì‹¬ ëª©í‘œ

Big Ambitionsì˜ ì§ì› ê´€ë¦¬ ì‹œìŠ¤í…œì„ Retro Stock OSì˜ 2D í”½ì…€ í™˜ê²½ì— ë§ê²Œ ê²½ëŸ‰í™”í•˜ì—¬ ì ìš©í•©ë‹ˆë‹¤.
ì§ì›ì„ ë‹¨ìˆœí•œ ìì›ì´ ì•„ë‹Œ **ê´€ë¦¬í•´ì•¼ í•  ê°œì„± ìˆëŠ” ìºë¦­í„°**ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥ 4ê°€ì§€

#### 1. ì§ì› ì„±ê²© íƒœê·¸ ì‹œìŠ¤í…œ (Trait Tags)
- **ëª©ì **: ë³µì¡í•œ ìŠ¤ì¼€ì¤„ë§ ëŒ€ì‹  ì„±ê²© íƒœê·¸ë¡œ í˜¸ë¶ˆí˜¸ êµ¬í˜„
- **ì˜ˆì‹œ**:
  - `[ì•¼í–‰ì„±]`: ì•¼ê°„ ê±°ë˜ íš¨ìœ¨ +20%, ì•„ì¹¨ ì‹¤ìˆ˜ í™•ë¥  â†‘
  - `[ì¹´í˜ì¸ ì¤‘ë…]`: ì»¤í”¼ë¨¸ì‹  ê·¼ì²˜ ë°°ì¹˜ ì‹œ ìŠ¤íƒœë¯¸ë„ˆ ê°ì†Œ ì†ë„ ì ˆë°˜
  - `[ì˜ˆë¯¼í•¨]`: ì‹œë„ëŸ¬ìš´ ì§ì› ì˜†ì— ì•‰ìœ¼ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ 2ë°°
  - `[ì›Œì»¤í™€ë¦­]`: ì”ì—… ë¶ˆë§Œ ì—†ìŒ, ëŒ€ì‹  ì›”ê¸‰ ë” ìš”êµ¬

#### 2. ì‚¬ë¬´ì‹¤ ê·¸ë¦¬ë“œ ë°°ì¹˜ ì‹œìŠ¤í…œ (Office Feng Shui)
- **ëª©ì **: ê°€êµ¬ ë°°ì¹˜ ì „ëµìœ¼ë¡œ ì§ì› ëŠ¥ë ¥ ìµœì í™”
- **êµ¬ì¡°**: 10x10 ê·¸ë¦¬ë“œì— ê°€êµ¬/ì§ì› ë°°ì¹˜
- **ìƒí˜¸ì‘ìš©**:
  - **ê³ ê¸‰ ì˜ì**: í•´ë‹¹ ìë¦¬ ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ ì†ë„ â†‘
  - **í™”ë¶„/ê³µê¸°ì²­ì •ê¸°**: ì£¼ë³€ 3x3 ë²”ìœ„ ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ
  - **CEO íŠ¸ë¡œí”¼**: ì „ ì§ì› ì¶©ì„±ë„ ë²„í”„
  - **ì„œë²„ ë™**: ì£¼ë³€ 2ì¹¸ ì£¼ë¬¸ ì†ë„ ì¦ê°€ (ì†ŒìŒ ë””ë²„í”„ ë°œìƒ)

#### 3. HR ì‹¤ì¥ ìë™í™” ì‹œìŠ¤í…œ
- **ëª©ì **: ëŒ€ê·œëª¨ ì§ì› ê´€ë¦¬ ìë™í™”
- **ê¸°ëŠ¥**:
  - ìë™ ë©´ë‹´: ìŠ¤íŠ¸ë ˆìŠ¤ ë†’ì€ ì§ì› ìë™ ì¼€ì–´
  - ìë™ êµìœ¡: ë§¤ ë¶„ê¸° ì§ì› ìŠ¤íƒ¯ +1~5 ìƒìŠ¹
  - ë³´ê³ ì„œ: "ê¹€ëŒ€ë¦¬ê°€ ìš”ì¦˜ í˜ë“¤ì–´í•©ë‹ˆë‹¤. íœ´ê°€ ë³´ë‚¼ê¹Œìš”?" íŒì—…

#### 4. AI ë§í’ì„  ì‹œìŠ¤í…œ (Live Chatter)
- **ëª©ì **: í”½ì…€ ë§í’ì„ ìœ¼ë¡œ ê°ì„± ì¶”ê°€
- **ìƒí™©ë³„ ëŒ€ì‚¬**:
  - ì£¼ê°€ í­ë½: "ì•„... ë‚´ ìŠ¤í†¡ì˜µì…˜ íœ´ì§€ì¡°ê° ë˜ë‚˜..."
  - ìˆ˜ìµ ì‹¤í˜„: "ì˜¤ëŠ˜ íšŒì‹ ì†Œê³ ê¸°ì¸ê°€ìš” ì‹¤ì¥ë‹˜?!"
  - í™˜ê²½ ë¶ˆë§Œ: "ì˜†ìë¦¬ ê¹€ëŒ€ë¦¬ íƒ€ì ì†Œë¦¬ ë„ˆë¬´ ì»¤..."

---

## í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ ë¶„ì„

### ì•„í‚¤í…ì²˜ í˜„í™© (CLAUDE.md ê¸°ì¤€)

```
src/
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ gameStore.ts           # Zustand ë‹¨ì¼ ìŠ¤í† ì–´
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts               # Employee, PlayerState íƒ€ì…
â”œâ”€â”€ data/
â”‚   â””â”€â”€ employees.ts           # ì§ì› ìƒì„± ë¡œì§
â”œâ”€â”€ engines/
â”‚   â””â”€â”€ tickEngine.ts          # 200ms ì£¼ê¸° ê²Œì„ ë£¨í”„
â””â”€â”€ components/
    â””â”€â”€ windows/
        â””â”€â”€ OfficeWindow.tsx   # í˜„ì¬ ë¦¬ìŠ¤íŠ¸ ë·°
```

### í˜„ì¬ Employee íƒ€ì…

```typescript
interface Employee {
  id: string
  name: string
  role: EmployeeRole  // analyst, trader, manager
  salary: number
  stamina: number
  hiredAt: number     // ê³ ìš© ì‹œì  (í‹±)
}
```

### í˜„ì¬ OfficeWindow êµ¬ì¡°

- **UI**: ì§ì› ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œ
- **ê¸°ëŠ¥**: ê³ ìš©, í•´ê³ , ìŠ¤íƒœë¯¸ë„ˆ í‘œì‹œ
- **í¬ê¸°**: ~150 LOC

### í•„ìš”í•œ ë³€ê²½ ë²”ìœ„

| ì»´í¬ë„ŒíŠ¸ | ë³€ê²½ ìœ í˜• | ì˜ˆìƒ ì½”ë“œëŸ‰ |
|----------|-----------|-------------|
| `types/index.ts` | í™•ì¥ (Employee íƒ€ì…) | +50 LOC |
| `stores/gameStore.ts` | í™•ì¥ (officeGrid ìƒíƒœ) | +200 LOC |
| `data/employees.ts` | ìˆ˜ì • (íƒœê·¸ ë¶€ì—¬ ë¡œì§) | +30 LOC |
| `engines/tickEngine.ts` | ìˆ˜ì • (office ì‹œìŠ¤í…œ í‹±) | +50 LOC |
| `OfficeWindow.tsx` | **ì „ë©´ ì¬ì‘ì„±** | ~400 LOC (ê¸°ì¡´ 150 â†’ 400) |
| **ì‹ ê·œ íŒŒì¼** | ìƒì„± | ~2,000 LOC |
| **ì´ê³„** | | ~2,730 LOC |

---

## êµ¬í˜„ ì „ëµ

### Sprint êµ¬ì¡° (4 Sprints Ã— 2ì£¼)

```mermaid
gantt
    title ì§ì› RPG ì‹œìŠ¤í…œ êµ¬í˜„ ì¼ì •
    dateFormat YYYY-MM-DD
    section Sprint 1
    íƒ€ì… í™•ì¥          :s1, 2026-02-17, 1d
    ì„±ê²© íƒœê·¸ ì •ì˜     :s2, after s1, 1d
    UI íƒœê·¸ í‘œì‹œ       :s3, after s2, 1d
    section Sprint 2
    ê·¸ë¦¬ë“œ ë°ì´í„° ì„¤ê³„ :s4, after s3, 1d
    ê°€êµ¬ ì•„ì´í…œ ì •ì˜   :s5, after s4, 1d
    UI ê°œí¸            :s6, after s5, 3d
    section Sprint 3
    ìƒí˜¸ì‘ìš© ë¡œì§      :s7, after s6, 2d
    ë§í’ì„  ì‹œìŠ¤í…œ      :s8, after s7, 1d
    section Sprint 4
    HR ë§¤ë‹ˆì €          :s9, after s8, 1d
    í†µí•© í…ŒìŠ¤íŠ¸        :s10, after s9, 1d
```

### Sprint ìš°ì„ ìˆœìœ„ ê²°ì • ê·¼ê±°

1. **Sprint 1 (Foundation)**: ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ê²Œì„í”Œë ˆì´ ê²€ì¦
   - ê¸°ì¡´ UI ìœ ì§€í•˜ë©´ì„œ íƒœê·¸ ì‹œìŠ¤í…œë§Œ ì¶”ê°€
   - ìœ„í—˜ë„ ë‚®ìŒ, ë¹ ë¥¸ í”¼ë“œë°± ê°€ëŠ¥

2. **Sprint 2 (Grid System)**: ê°€ì¥ í° ë³€ê²½, ì§‘ì¤‘ í•„ìš”
   - OfficeWindow ì „ë©´ ê°œí¸
   - UI/UX ì‚¬ìš©ì„± ê²€ì¦ í•„ìˆ˜

3. **Sprint 3 (AI & Fun)**: ì¬ë¯¸ ìš”ì†Œ ì¶”ê°€
   - ìƒí˜¸ì‘ìš©, ë§í’ì„ ìœ¼ë¡œ ëª°ì…ê° ì¦ëŒ€
   - Sprint 2 ì™„ë£Œ í›„ ì§„í–‰ (ê·¸ë¦¬ë“œ í•„ìš”)

4. **Sprint 4 (Automation)**: í›„ë°˜ í¸ì˜ì„± ê¸°ëŠ¥
   - ëŒ€ê·œëª¨ ì§ì› ê´€ë¦¬ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ì‘
   - ì„ íƒì  ê¸°ëŠ¥ (MVP ì•„ë‹˜)

---

## ìƒì„¸ íƒœìŠ¤í¬ ëª©ë¡

### Sprint 1: Core Foundation (3ì¼, 12ì‹œê°„)

#### Task 1.1: Employee íƒ€ì… í™•ì¥ (4ì‹œê°„)
**íŒŒì¼**: `src/types/index.ts`

**ë³€ê²½ ë‚´ìš©**:
```typescript
// âœ¨ ì‹ ê·œ íƒ€ì… ì •ì˜
type EmployeeTrait =
  | 'nocturnal'        // ì•¼í–‰ì„±
  | 'caffeine_addict'  // ì¹´í˜ì¸ ì¤‘ë…
  | 'sensitive'        // ì˜ˆë¯¼í•¨
  | 'workaholic'       // ì›Œì»¤í™€ë¦­
  | 'perfectionist'    // ì™„ë²½ì£¼ì˜ì
  | 'social'           // ì‚¬êµì 
  | 'introvert'        // ë‚´í–¥ì 
  | 'tech_savvy'       // ê¸°ìˆ  ëŠ¥ìˆ™
  | 'risk_averse'      // ìœ„í—˜ íšŒí”¼
  | 'ambitious'        // ì•¼ì‹¬ê°€

interface EmployeeSkills {
  analysis: number      // ë¶„ì„ ëŠ¥ë ¥ (0-100)
  trading: number       // ê±°ë˜ ì†ë„ (0-100)
  research: number      // ë¦¬ì„œì¹˜ í’ˆì§ˆ (0-100)
}

// âœ¨ Employee íƒ€ì… í™•ì¥
interface Employee {
  id: string
  name: string
  role: EmployeeRole
  salary: number
  stamina: number
  hiredAt: number

  // âœ¨ ì‹ ê·œ í•„ë“œ (ì„ íƒì  ì†ì„±ìœ¼ë¡œ í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€)
  traits?: EmployeeTrait[]       // ì„±ê²© íƒœê·¸ (1-2ê°œ)
  seatIndex?: number | null      // ê·¸ë¦¬ë“œ ì¢Œí‘œ (null = ë¯¸ë°°ì¹˜)
  stress?: number                // ìŠ¤íŠ¸ë ˆìŠ¤ (0-100)
  satisfaction?: number          // ë§Œì¡±ë„ (0-100)
  skills?: EmployeeSkills        // ìŠ¤í‚¬ ìŠ¤íƒ¯
}
```

**ê²€ì¦**:
- [ ] `npm run build` ì—ëŸ¬ ì—†ìŒ
- [ ] ê¸°ì¡´ ì½”ë“œì—ì„œ Employee íƒ€ì… ì‚¬ìš© ë¶€ë¶„ ì»´íŒŒì¼ í†µê³¼

---

#### Task 1.2: ì„±ê²© íƒœê·¸ ë°ì´í„° ì •ì˜ (3ì‹œê°„)
**íŒŒì¼**: `src/data/traits.ts` (ì‹ ê·œ ìƒì„±)

**êµ¬ì¡°**:
```typescript
interface TraitConfig {
  name: string
  description: string
  icon: string
  effects: TraitEffect
  rarity: 'common' | 'uncommon' | 'rare'
}

interface TraitEffect {
  // ì§ì ‘ íš¨ê³¼
  staminaRecovery?: number      // ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ ì†ë„ ë°°ìœ¨
  stressGeneration?: number     // ìŠ¤íŠ¸ë ˆìŠ¤ ìƒì„± ì†ë„ ë°°ìœ¨
  skillGrowth?: number          // ìŠ¤í‚¬ ì„±ì¥ ì†ë„ ë°°ìœ¨

  // ì¡°ê±´ë¶€ íš¨ê³¼
  nightShiftBonus?: number      // ì•¼ê°„ ê·¼ë¬´ íš¨ìœ¨
  morningPenalty?: number       // ì˜¤ì „ íŒ¨ë„í‹°
  noiseIntolerance?: number     // ì†ŒìŒ ë¯¼ê°ë„

  // ìš”êµ¬ì‚¬í•­
  requiresCoffee?: boolean      // ì»¤í”¼ë¨¸ì‹  í•„ìš”
  requiresQuiet?: boolean       // ì¡°ìš©í•œ í™˜ê²½ í•„ìš”
  salaryMultiplier?: number     // ì›”ê¸‰ ë°°ìœ¨
}

// 10ê°€ì§€ ì„±ê²© íƒœê·¸ ì •ì˜
export const TRAIT_DEFINITIONS: Record<EmployeeTrait, TraitConfig> = {
  nocturnal: {
    name: 'ì•¼í–‰ì„±',
    description: 'ë°¤ì— ë” ì§‘ì¤‘í•˜ëŠ” ì˜¬ë¹¼ë¯¸í˜• ì¸ê°„',
    icon: 'ğŸ¦‰',
    rarity: 'common',
    effects: {
      nightShiftBonus: 0.2,      // ì•¼ê°„ (18:00-06:00) ê±°ë˜ íš¨ìœ¨ +20%
      morningPenalty: 0.15,      // ì˜¤ì „ (06:00-12:00) ì‹¤ìˆ˜ í™•ë¥  +15%
      stressGeneration: 0.9      // ì•¼ê°„ ê·¼ë¬´ ì‹œ ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ
    }
  },

  caffeine_addict: {
    name: 'ì¹´í˜ì¸ ì¤‘ë…',
    description: 'ì»¤í”¼ ì—†ì´ëŠ” ëª» ì‚¬ëŠ” ì§ì¥ì¸',
    icon: 'â˜•',
    rarity: 'common',
    effects: {
      requiresCoffee: true,
      staminaRecovery: 1.5,      // ì»¤í”¼ë¨¸ì‹  ê·¼ì²˜ ì‹œ íšŒë³µ ì†ë„ 1.5ë°°
      stressGeneration: 1.3      // ì»¤í”¼ ì—†ìœ¼ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ 1.3ë°°
    }
  },

  sensitive: {
    name: 'ì˜ˆë¯¼í•¨',
    description: 'í™˜ê²½ì— ë¯¼ê°í•œ ì„¬ì„¸í•œ ì˜í˜¼',
    icon: 'ğŸ˜°',
    rarity: 'uncommon',
    effects: {
      noiseIntolerance: 2.0,     // ì†ŒìŒ ë””ë²„í”„ 2ë°°
      requiresQuiet: true,
      stressGeneration: 1.2,     // ê¸°ë³¸ ìŠ¤íŠ¸ë ˆìŠ¤ ì¦ê°€ ì†ë„ 1.2ë°°
      skillGrowth: 1.1           // ì¡°ìš©í•œ í™˜ê²½ì—ì„œ ìŠ¤í‚¬ ì„±ì¥ 1.1ë°°
    }
  },

  workaholic: {
    name: 'ì›Œì»¤í™€ë¦­',
    description: 'ì¼ ì¤‘ë…ì, ì”ì—…ë„ ê¸°êº¼ì´',
    icon: 'ğŸ’¼',
    rarity: 'rare',
    effects: {
      staminaRecovery: 0.8,      // íšŒë³µ ì†ë„ ëŠë¦¼
      stressGeneration: 0.7,     // ì•¼ê·¼í•´ë„ ìŠ¤íŠ¸ë ˆìŠ¤ ì ìŒ
      salaryMultiplier: 1.3,     // ì›”ê¸‰ 30% ë” ìš”êµ¬
      skillGrowth: 1.2           // ìŠ¤í‚¬ ì„±ì¥ ë¹ ë¦„
    }
  },

  // ... ë‚˜ë¨¸ì§€ 6ê°€ì§€ íƒœê·¸ ì •ì˜
  // perfectionist, social, introvert, tech_savvy, risk_averse, ambitious
}
```

**ê²€ì¦**:
- [ ] ëª¨ë“  íƒœê·¸ì— icon, effects ì •ì˜ ì™„ë£Œ
- [ ] íš¨ê³¼ ë°¸ëŸ°ìŠ¤ ê²€í†  (ë„ˆë¬´ ê°•ë ¥í•˜ì§€ ì•Šì€ì§€)

---

#### Task 1.3: ì§ì› ìƒì„± ë¡œì§ì— íƒœê·¸ ë¶€ì—¬ (2ì‹œê°„)
**íŒŒì¼**: `src/data/employees.ts`

**ë³€ê²½ ë‚´ìš©**:
```typescript
import { TRAIT_DEFINITIONS } from './traits'

// ê¸°ì¡´ generateEmployee() í•¨ìˆ˜ ìˆ˜ì •
export function generateEmployee(role: EmployeeRole): Employee {
  // ... ê¸°ì¡´ ë¡œì§

  // âœ¨ ì„±ê²© íƒœê·¸ ëœë¤ ë¶€ì—¬ (1-2ê°œ)
  const traits = generateRandomTraits()

  // âœ¨ ì´ˆê¸° ìŠ¤í‚¬ ì„¤ì • (roleì— ë”°ë¼)
  const skills = generateInitialSkills(role, traits)

  return {
    id: generateId(),
    name: generateName(),
    role,
    salary: calculateSalary(role, traits),  // íƒœê·¸ì— ë”°ë¼ ì›”ê¸‰ ì¡°ì •
    stamina: 100,
    hiredAt: 0,

    // âœ¨ ì‹ ê·œ í•„ë“œ
    traits,
    seatIndex: null,
    stress: 0,
    satisfaction: 100,
    skills
  }
}

function generateRandomTraits(): EmployeeTrait[] {
  const allTraits = Object.keys(TRAIT_DEFINITIONS) as EmployeeTrait[]
  const count = Math.random() > 0.7 ? 2 : 1  // 30% í™•ë¥ ë¡œ 2ê°œ

  // ê°€ì¤‘ì¹˜ ê¸°ë°˜ ëœë¤ ì„ íƒ (rare < uncommon < common)
  const weighted = allTraits.flatMap(trait => {
    const rarity = TRAIT_DEFINITIONS[trait].rarity
    const weight = rarity === 'common' ? 3 : rarity === 'uncommon' ? 2 : 1
    return Array(weight).fill(trait)
  })

  // ì¤‘ë³µ ì—†ì´ ì„ íƒ
  const selected: EmployeeTrait[] = []
  while (selected.length < count) {
    const trait = weighted[Math.floor(Math.random() * weighted.length)]
    if (!selected.includes(trait)) selected.push(trait)
  }

  return selected
}

function generateInitialSkills(
  role: EmployeeRole,
  traits: EmployeeTrait[]
): EmployeeSkills {
  const base = {
    analyst: { analysis: 60, trading: 30, research: 70 },
    trader: { analysis: 30, trading: 70, research: 40 },
    manager: { analysis: 50, trading: 50, research: 50 }
  }[role]

  // tech_savvy íƒœê·¸ ìˆìœ¼ë©´ ëª¨ë“  ìŠ¤í‚¬ +10
  if (traits.includes('tech_savvy')) {
    base.analysis += 10
    base.trading += 10
    base.research += 10
  }

  return base
}
```

**ê²€ì¦**:
- [ ] ì‹ ê·œ ì§ì› ìƒì„± ì‹œ íƒœê·¸ ìë™ ë¶€ì—¬
- [ ] íƒœê·¸ ë¶„í¬ í™•ì¸ (common > uncommon > rare)
- [ ] ì›”ê¸‰ ê³„ì‚° ì •ìƒ ë™ì‘

---

#### Task 1.4: OfficeWindowì— íƒœê·¸ í‘œì‹œ (3ì‹œê°„)
**íŒŒì¼**: `src/components/windows/OfficeWindow.tsx`

**ë³€ê²½ ë‚´ìš©**:
```tsx
import { TRAIT_DEFINITIONS } from '@/data/traits'

// ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ ë·°ì— íƒœê·¸ ì•„ì´ì½˜ ì¶”ê°€
function EmployeeListItem({ employee }: { employee: Employee }) {
  const traits = employee.traits || []

  return (
    <div className="employee-item">
      <span className="name">{employee.name}</span>
      <span className="role">{employee.role}</span>

      {/* âœ¨ íƒœê·¸ ì•„ì´ì½˜ ì¶”ê°€ */}
      <div className="traits">
        {traits.map(trait => (
          <Tooltip key={trait} content={getTraitTooltip(trait)}>
            <span className="trait-icon">
              {TRAIT_DEFINITIONS[trait].icon}
            </span>
          </Tooltip>
        ))}
      </div>

      <StaminaBar value={employee.stamina} />
    </div>
  )
}

function getTraitTooltip(trait: EmployeeTrait): string {
  const config = TRAIT_DEFINITIONS[trait]
  const effects = Object.entries(config.effects)
    .map(([key, value]) => `${key}: ${value > 1 ? '+' : ''}${((value - 1) * 100).toFixed(0)}%`)
    .join('\n')

  return `${config.name}\n${config.description}\n\níš¨ê³¼:\n${effects}`
}
```

**ê²€ì¦**:
- [ ] ì§ì› ëª©ë¡ì— íƒœê·¸ ì•„ì´ì½˜ í‘œì‹œ
- [ ] í˜¸ë²„ ì‹œ íˆ´íŒ ì •ìƒ ë™ì‘
- [ ] ì„±ëŠ¥ ë¬¸ì œ ì—†ìŒ (100ëª… ì§ì› ë Œë”ë§)

---

### Sprint 2: Grid System (5ì¼, 31ì‹œê°„)

#### Task 2.1: Office Grid ë°ì´í„° êµ¬ì¡° ì„¤ê³„ (4ì‹œê°„)
**íŒŒì¼**: `src/types/office.ts` (ì‹ ê·œ ìƒì„±)

**ì „ì²´ êµ¬ì¡°**:
```typescript
// ê°€êµ¬ íƒ€ì…
export type FurnitureType =
  | 'desk'              // ì±…ìƒ (ê¸°ë³¸ ë°°ì¹˜)
  | 'premium_chair'     // ê³ ê¸‰ ì˜ì
  | 'plant'             // í™”ë¶„
  | 'server_rack'       // ì„œë²„ ë™
  | 'coffee_machine'    // ì»¤í”¼ë¨¸ì‹ 
  | 'trophy'            // CEO íŠ¸ë¡œí”¼
  | 'air_purifier'      // ê³µê¸°ì²­ì •ê¸°
  | 'whiteboard'        // í™”ì´íŠ¸ë³´ë“œ
  | 'bookshelf'         // ì±…ì¥
  | 'lounge_chair'      // íœ´ê²Œ ì˜ì

// ë²„í”„ íš¨ê³¼ íƒ€ì…
export interface BuffEffect {
  type: 'stamina_recovery' | 'stress_reduction' | 'skill_growth' | 'trading_speed' | 'morale'
  value: number         // ë°°ìœ¨ (1.0 = 100%)
  range: number         // ì˜í–¥ ë²”ìœ„ (ì¹¸ ìˆ˜, 0 = í•´ë‹¹ ì¹¸ë§Œ)
}

// ê°€êµ¬ ì•„ì´í…œ
export interface FurnitureItem {
  id: string
  type: FurnitureType
  position: { x: number; y: number }
  size: { width: number; height: number }  // ê·¸ë¦¬ë“œ ì¹¸ ìˆ˜
  buffs: BuffEffect[]
  cost: number          // êµ¬ë§¤ ë¹„ìš©
  sprite?: string       // ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ê²½ë¡œ
}

// ê·¸ë¦¬ë“œ ì…€
export interface GridCell {
  x: number
  y: number
  occupiedBy: string | null   // furniture ID or employee ID
  type: 'empty' | 'desk' | 'furniture' | 'wall'
  buffs: BuffEffect[]          // í•´ë‹¹ ì¹¸ì— ì˜í–¥ì„ ì£¼ëŠ” ë²„í”„ ëª©ë¡ (ê³„ì‚°ë¨)
}

// ì‚¬ë¬´ì‹¤ ê·¸ë¦¬ë“œ
export interface OfficeGrid {
  size: { width: number; height: number }  // ê¸°ë³¸ 10x10
  cells: GridCell[][]                      // 2D ë°°ì—´
  furniture: FurnitureItem[]               // ë°°ì¹˜ëœ ê°€êµ¬ ëª©ë¡
}
```

**ê²€ì¦**:
- [ ] íƒ€ì… ì •ì˜ ì™„ë£Œ
- [ ] ë‹¤ë¥¸ íƒ€ì…ê³¼ ì¶©ëŒ ì—†ìŒ

---

#### Task 2.2: ê°€êµ¬ ì•„ì´í…œ ì •ì˜ (5ì‹œê°„)
**íŒŒì¼**: `src/data/furniture.ts` (ì‹ ê·œ ìƒì„±)

**ì¹´íƒˆë¡œê·¸ ì •ì˜**:
```typescript
import { FurnitureType, BuffEffect } from '@/types/office'

interface FurnitureCatalogItem {
  type: FurnitureType
  name: string
  description: string
  cost: number
  size: { width: number; height: number }
  buffs: BuffEffect[]
  sprite: string
  unlockLevel?: number  // íŠ¹ì • ë ˆë²¨ë¶€í„° êµ¬ë§¤ ê°€ëŠ¥
}

export const FURNITURE_CATALOG: Record<FurnitureType, FurnitureCatalogItem> = {
  desk: {
    type: 'desk',
    name: 'ê¸°ë³¸ ì±…ìƒ',
    description: 'ì§ì›ì´ ì•‰ì„ ìˆ˜ ìˆëŠ” ê¸°ë³¸ ì±…ìƒ',
    cost: 10000,
    size: { width: 1, height: 1 },
    buffs: [],
    sprite: 'desk_basic.png'
  },

  premium_chair: {
    type: 'premium_chair',
    name: 'ê³ ê¸‰ ì˜ì',
    description: 'ì¸ì²´ê³µí•™ ì˜ìë¡œ ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ ì†ë„ ì¦ê°€',
    cost: 50000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'stamina_recovery', value: 1.5, range: 0 }  // í•´ë‹¹ ì¹¸ë§Œ
    ],
    sprite: 'chair_premium.png'
  },

  plant: {
    type: 'plant',
    name: 'ëŒ€í˜• í™”ë¶„',
    description: 'ì£¼ë³€ 3ì¹¸ ë²”ìœ„ ì§ì› ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ',
    cost: 10000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'stress_reduction', value: 0.8, range: 3 }  // 3ì¹¸ ë²”ìœ„
    ],
    sprite: 'plant.png'
  },

  server_rack: {
    type: 'server_rack',
    name: 'ê³ ì„±ëŠ¥ ì„œë²„',
    description: 'ì£¼ë³€ 2ì¹¸ ê±°ë˜ ì†ë„ ì¦ê°€ (ì†ŒìŒ ë°œìƒ)',
    cost: 200000,
    size: { width: 2, height: 1 },
    buffs: [
      { type: 'trading_speed', value: 1.2, range: 2 },
      { type: 'stress_reduction', value: 1.3, range: 2 }  // ì†ŒìŒìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ ì¦ê°€
    ],
    sprite: 'server_rack.png',
    unlockLevel: 5
  },

  coffee_machine: {
    type: 'coffee_machine',
    name: 'ì—ìŠ¤í”„ë ˆì†Œ ë¨¸ì‹ ',
    description: 'ì£¼ë³€ 2ì¹¸ ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ ì¦ê°€ (ì¹´í˜ì¸ ì¤‘ë… í•„ìˆ˜)',
    cost: 80000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'stamina_recovery', value: 1.3, range: 2 }
    ],
    sprite: 'coffee_machine.png'
  },

  trophy: {
    type: 'trophy',
    name: 'CEO íŠ¸ë¡œí”¼',
    description: 'ì „ ì§ì› ì‚¬ê¸° ì¦ì§„ (ì‹œì•¼ ë‚´ ë°°ì¹˜)',
    cost: 150000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'morale', value: 1.1, range: 999 }  // ì „ì²´ ë²”ìœ„
    ],
    sprite: 'trophy.png',
    unlockLevel: 10
  },

  air_purifier: {
    type: 'air_purifier',
    name: 'ê³µê¸°ì²­ì •ê¸°',
    description: 'ì£¼ë³€ 3ì¹¸ ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ ë° ì¾Œì í•¨ ì¦ê°€',
    cost: 120000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'stress_reduction', value: 0.85, range: 3 }
    ],
    sprite: 'air_purifier.png'
  },

  whiteboard: {
    type: 'whiteboard',
    name: 'í™”ì´íŠ¸ë³´ë“œ',
    description: 'ì£¼ë³€ 2ì¹¸ ìŠ¤í‚¬ ì„±ì¥ ì†ë„ ì¦ê°€',
    cost: 30000,
    size: { width: 2, height: 1 },
    buffs: [
      { type: 'skill_growth', value: 1.15, range: 2 }
    ],
    sprite: 'whiteboard.png'
  },

  bookshelf: {
    type: 'bookshelf',
    name: 'ì„œê°€',
    description: 'ì£¼ë³€ 2ì¹¸ ë¶„ì„ ìŠ¤í‚¬ ì„±ì¥ ì¦ê°€',
    cost: 40000,
    size: { width: 1, height: 1 },
    buffs: [
      { type: 'skill_growth', value: 1.1, range: 2 }
    ],
    sprite: 'bookshelf.png'
  },

  lounge_chair: {
    type: 'lounge_chair',
    name: 'íœ´ê²Œ ì†ŒíŒŒ',
    description: 'ì£¼ë³€ 1ì¹¸ ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ ë° ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ',
    cost: 60000,
    size: { width: 2, height: 1 },
    buffs: [
      { type: 'stress_reduction', value: 0.7, range: 1 },
      { type: 'stamina_recovery', value: 1.2, range: 1 }
    ],
    sprite: 'lounge_chair.png'
  }
}

// ê°€êµ¬ êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬
export function canBuyFurniture(
  type: FurnitureType,
  playerLevel: number,
  playerCash: number
): { canBuy: boolean; reason?: string } {
  const item = FURNITURE_CATALOG[type]

  if (item.unlockLevel && playerLevel < item.unlockLevel) {
    return {
      canBuy: false,
      reason: `ë ˆë²¨ ${item.unlockLevel} ì´ìƒ í•„ìš”`
    }
  }

  if (playerCash < item.cost) {
    return {
      canBuy: false,
      reason: `ìê¸ˆ ë¶€ì¡± (${item.cost.toLocaleString()}ì› í•„ìš”)`
    }
  }

  return { canBuy: true }
}
```

**ê²€ì¦**:
- [ ] 10ê°€ì§€ ê°€êµ¬ ì •ì˜ ì™„ë£Œ
- [ ] ë²„í”„ íš¨ê³¼ ë°¸ëŸ°ìŠ¤ ê²€í† 
- [ ] ë¹„ìš© ë°¸ëŸ°ìŠ¤ ê²€í†  (ê²Œì„ ê²½ì œ ê³ ë ¤)

---

#### Task 2.3: OfficeWindow UI ê°œí¸ (16ì‹œê°„) ğŸ”´ **CRITICAL**
**íŒŒì¼**: `src/components/windows/OfficeWindow.tsx`

**ìƒˆë¡œìš´ êµ¬ì¡°**:
```tsx
import { OfficeGrid } from '@/components/office/OfficeGrid'
import { FurnitureShop } from '@/components/office/FurnitureShop'
import { EmployeePanel } from '@/components/office/EmployeePanel'

export function OfficeWindow() {
  const [selectedFurniture, setSelectedFurniture] = useState<FurnitureType | null>(null)
  const [selectedEmployee, setSelectedEmployee] = useState<string | null>(null)

  return (
    <WindowFrame title="ì‚¬ë¬´ì‹¤ ê´€ë¦¬" icon="office">
      <div className="office-container">
        {/* ì¢Œì¸¡: ê·¸ë¦¬ë“œ ë·° */}
        <div className="grid-section">
          <OfficeGrid
            selectedFurniture={selectedFurniture}
            selectedEmployee={selectedEmployee}
            onCellClick={handleCellClick}
          />
        </div>

        {/* ìš°ì¸¡: ê°€êµ¬ ìƒì  + ì§ì› ëª©ë¡ */}
        <div className="sidebar">
          <FurnitureShop
            onSelect={setSelectedFurniture}
            selected={selectedFurniture}
          />

          <EmployeePanel
            onSelect={setSelectedEmployee}
            selected={selectedEmployee}
          />
        </div>
      </div>
    </WindowFrame>
  )
}

function handleCellClick(x: number, y: number) {
  if (selectedFurniture) {
    // ê°€êµ¬ ë°°ì¹˜
    gameStore.getState().placeFurniture(selectedFurniture, x, y)
    setSelectedFurniture(null)
  } else if (selectedEmployee) {
    // ì§ì› ì¢Œì„ ë°°ì¹˜
    gameStore.getState().assignEmployeeSeat(selectedEmployee, x, y)
    setSelectedEmployee(null)
  }
}
```

**í•˜ìœ„ ì»´í¬ë„ŒíŠ¸**:

1. **OfficeGrid.tsx** (ì‹ ê·œ ìƒì„±):
```tsx
export function OfficeGrid({
  selectedFurniture,
  selectedEmployee,
  onCellClick
}: OfficeGridProps) {
  const grid = useGameStore(s => s.officeGrid)

  return (
    <div
      className="office-grid"
      style={{
        display: 'grid',
        gridTemplateColumns: `repeat(${grid.size.width}, 1fr)`,
        gridTemplateRows: `repeat(${grid.size.height}, 1fr)`,
        gap: '2px'
      }}
    >
      {grid.cells.flat().map(cell => (
        <GridCell
          key={`${cell.x}-${cell.y}`}
          cell={cell}
          isSelected={isSelected(cell)}
          onClick={() => onCellClick(cell.x, cell.y)}
        />
      ))}
    </div>
  )
}

function GridCell({ cell, isSelected, onClick }: GridCellProps) {
  const furniture = useFurnitureAtCell(cell.x, cell.y)
  const employee = useEmployeeAtCell(cell.x, cell.y)

  return (
    <div
      className={cn('grid-cell', {
        'selected': isSelected,
        'occupied': cell.occupiedBy !== null
      })}
      onClick={onClick}
    >
      {furniture && <FurnitureTile item={furniture} />}
      {employee && <EmployeeTile employee={employee} />}

      {/* ë²„í”„ í‘œì‹œê¸° */}
      {cell.buffs.length > 0 && (
        <div className="buff-indicators">
          {cell.buffs.map((buff, i) => (
            <BuffIcon key={i} buff={buff} />
          ))}
        </div>
      )}
    </div>
  )
}
```

2. **FurnitureShop.tsx** (ì‹ ê·œ ìƒì„±):
```tsx
export function FurnitureShop({ onSelect, selected }: FurnitureShopProps) {
  const playerCash = useGameStore(s => s.player.cash)
  const playerLevel = useGameStore(s => calculatePlayerLevel())

  return (
    <div className="furniture-shop">
      <h3>ê°€êµ¬ ìƒì </h3>
      <div className="catalog">
        {Object.values(FURNITURE_CATALOG).map(item => {
          const { canBuy, reason } = canBuyFurniture(
            item.type,
            playerLevel,
            playerCash
          )

          return (
            <FurnitureCard
              key={item.type}
              item={item}
              selected={selected === item.type}
              disabled={!canBuy}
              disabledReason={reason}
              onClick={() => canBuy && onSelect(item.type)}
            />
          )
        })}
      </div>
    </div>
  )
}
```

3. **EmployeePanel.tsx** (ì‹ ê·œ ìƒì„±):
```tsx
export function EmployeePanel({ onSelect, selected }: EmployeePanelProps) {
  const employees = useGameStore(s => s.player.employees)
  const unassigned = employees.filter(e => e.seatIndex === null)

  return (
    <div className="employee-panel">
      <h3>ë¯¸ë°°ì¹˜ ì§ì› ({unassigned.length})</h3>
      <div className="employee-list">
        {unassigned.map(emp => (
          <EmployeeCard
            key={emp.id}
            employee={emp}
            selected={selected === emp.id}
            onClick={() => onSelect(emp.id)}
          />
        ))}
      </div>
    </div>
  )
}
```

**ìŠ¤íƒ€ì¼ë§** (Tailwind CSS):
```css
.office-container {
  display: flex;
  gap: 16px;
  height: 100%;
}

.grid-section {
  flex: 1;
  background: #1a1a1a;
  padding: 16px;
  border-radius: 8px;
}

.sidebar {
  width: 300px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.office-grid {
  width: 100%;
  aspect-ratio: 1;
  max-width: 600px;
  margin: 0 auto;
}

.grid-cell {
  position: relative;
  background: #2a2a2a;
  border: 1px solid #3a3a3a;
  cursor: pointer;
  transition: all 0.2s;
}

.grid-cell:hover {
  background: #3a3a3a;
  border-color: #4a4a4a;
}

.grid-cell.selected {
  border-color: #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

.grid-cell.occupied {
  background: #3a3a2a;
}
```

**ê²€ì¦**:
- [ ] ê·¸ë¦¬ë“œ ë Œë”ë§ ì„±ëŠ¥ (60fps ìœ ì§€)
- [ ] ê°€êµ¬ ì„ íƒ â†’ ë°°ì¹˜ ë™ì‘
- [ ] ì§ì› ì„ íƒ â†’ ì¢Œì„ ë°°ì¹˜ ë™ì‘
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ìµœì†Œ 1024px ë„ˆë¹„)

---

#### Task 2.4: Zustand ìŠ¤í† ì–´ í†µí•© (6ì‹œê°„)
**íŒŒì¼**: `src/stores/gameStore.ts`

**ìƒíƒœ ì¶”ê°€**:
```typescript
import { OfficeGrid, FurnitureItem } from '@/types/office'
import { FURNITURE_CATALOG } from '@/data/furniture'

interface GameStore {
  // ... ê¸°ì¡´ í•„ë“œ

  // âœ¨ ì‹ ê·œ í•„ë“œ
  officeGrid: OfficeGrid

  // âœ¨ ì‹ ê·œ ì•¡ì…˜
  placeFurniture: (type: FurnitureType, x: number, y: number) => void
  removeFurniture: (furnitureId: string) => void
  assignEmployeeSeat: (employeeId: string, x: number, y: number) => void
  unassignEmployeeSeat: (employeeId: string) => void
  recalculateGridBuffs: () => void
}

// ì´ˆê¸°í™”
function createInitialOfficeGrid(): OfficeGrid {
  const size = { width: 10, height: 10 }
  const cells: GridCell[][] = []

  for (let y = 0; y < size.height; y++) {
    cells[y] = []
    for (let x = 0; x < size.width; x++) {
      cells[y][x] = {
        x,
        y,
        occupiedBy: null,
        type: 'empty',
        buffs: []
      }
    }
  }

  return { size, cells, furniture: [] }
}

// ì•¡ì…˜ êµ¬í˜„
const gameStore = create<GameStore>((set, get) => ({
  // ... ê¸°ì¡´ ìƒíƒœ
  officeGrid: createInitialOfficeGrid(),

  // ê°€êµ¬ ë°°ì¹˜
  placeFurniture: (type, x, y) => {
    const catalog = FURNITURE_CATALOG[type]
    const { cash } = get().player
    const { canBuy } = canBuyFurniture(type, calculatePlayerLevel(), cash)

    if (!canBuy) return

    // ê³µê°„ í™•ì¸
    if (!isSpaceAvailable(x, y, catalog.size, get().officeGrid)) {
      return
    }

    // ê°€êµ¬ ìƒì„±
    const furniture: FurnitureItem = {
      id: generateId(),
      type,
      position: { x, y },
      size: catalog.size,
      buffs: catalog.buffs,
      cost: catalog.cost,
      sprite: catalog.sprite
    }

    set(state => {
      // ë¹„ìš© ì°¨ê°
      state.player.cash -= catalog.cost

      // ê·¸ë¦¬ë“œ ì—…ë°ì´íŠ¸
      const grid = state.officeGrid
      grid.furniture.push(furniture)

      // ì…€ ì ìœ  ì²˜ë¦¬
      for (let dy = 0; dy < catalog.size.height; dy++) {
        for (let dx = 0; dx < catalog.size.width; dx++) {
          grid.cells[y + dy][x + dx].occupiedBy = furniture.id
          grid.cells[y + dy][x + dx].type = 'furniture'
        }
      }

      return state
    })

    // ë²„í”„ ì¬ê³„ì‚°
    get().recalculateGridBuffs()
  },

  // ê°€êµ¬ ì œê±°
  removeFurniture: (furnitureId) => {
    set(state => {
      const grid = state.officeGrid
      const furniture = grid.furniture.find(f => f.id === furnitureId)
      if (!furniture) return state

      // ì…€ ì ìœ  í•´ì œ
      for (let dy = 0; dy < furniture.size.height; dy++) {
        for (let dx = 0; dx < furniture.size.width; dx++) {
          const cell = grid.cells[furniture.position.y + dy][furniture.position.x + dx]
          cell.occupiedBy = null
          cell.type = 'empty'
        }
      }

      // ê°€êµ¬ ëª©ë¡ì—ì„œ ì œê±°
      grid.furniture = grid.furniture.filter(f => f.id !== furnitureId)

      // ë¹„ìš© í™˜ë¶ˆ (50%)
      state.player.cash += furniture.cost * 0.5

      return state
    })

    get().recalculateGridBuffs()
  },

  // ì§ì› ì¢Œì„ ë°°ì¹˜
  assignEmployeeSeat: (employeeId, x, y) => {
    const cell = get().officeGrid.cells[y][x]

    // ë¹ˆ ì±…ìƒì¸ì§€ í™•ì¸
    if (cell.type !== 'desk' || cell.occupiedBy !== null) {
      return
    }

    set(state => {
      // ì§ì› ì°¾ê¸°
      const employee = state.player.employees.find(e => e.id === employeeId)
      if (!employee) return state

      // ê¸°ì¡´ ì¢Œì„ í•´ì œ
      if (employee.seatIndex !== null) {
        const oldCell = state.officeGrid.cells.flat()[employee.seatIndex]
        oldCell.occupiedBy = null
      }

      // ìƒˆ ì¢Œì„ ë°°ì¹˜
      employee.seatIndex = y * 10 + x
      cell.occupiedBy = employeeId

      return state
    })
  },

  // ì§ì› ì¢Œì„ í•´ì œ
  unassignEmployeeSeat: (employeeId) => {
    set(state => {
      const employee = state.player.employees.find(e => e.id === employeeId)
      if (!employee || employee.seatIndex === null) return state

      const cell = state.officeGrid.cells.flat()[employee.seatIndex]
      cell.occupiedBy = null
      employee.seatIndex = null

      return state
    })
  },

  // ê·¸ë¦¬ë“œ ë²„í”„ ì¬ê³„ì‚°
  recalculateGridBuffs: () => {
    set(state => {
      const grid = state.officeGrid

      // ëª¨ë“  ì…€ ë²„í”„ ì´ˆê¸°í™”
      grid.cells.flat().forEach(cell => {
        cell.buffs = []
      })

      // ê° ê°€êµ¬ì˜ ë²„í”„ ì ìš©
      grid.furniture.forEach(furniture => {
        furniture.buffs.forEach(buff => {
          const { x, y } = furniture.position
          const range = buff.range

          if (range === 0) {
            // í•´ë‹¹ ì¹¸ë§Œ
            grid.cells[y][x].buffs.push(buff)
          } else if (range === 999) {
            // ì „ì²´ ë²”ìœ„
            grid.cells.flat().forEach(cell => cell.buffs.push(buff))
          } else {
            // ë²”ìœ„ ë‚´ ì…€
            for (let dy = -range; dy <= range; dy++) {
              for (let dx = -range; dx <= range; dx++) {
                const nx = x + dx
                const ny = y + dy

                // ë§¨í•´íŠ¼ ê±°ë¦¬ ì²´í¬
                if (Math.abs(dx) + Math.abs(dy) <= range &&
                    nx >= 0 && nx < grid.size.width &&
                    ny >= 0 && ny < grid.size.height) {
                  grid.cells[ny][nx].buffs.push(buff)
                }
              }
            }
          }
        })
      })

      return state
    })
  }
}))

// ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
function isSpaceAvailable(
  x: number,
  y: number,
  size: { width: number; height: number },
  grid: OfficeGrid
): boolean {
  for (let dy = 0; dy < size.height; dy++) {
    for (let dx = 0; dx < size.width; dx++) {
      const nx = x + dx
      const ny = y + dy

      if (nx >= grid.size.width || ny >= grid.size.height) {
        return false
      }

      const cell = grid.cells[ny][nx]
      if (cell.occupiedBy !== null) {
        return false
      }
    }
  }

  return true
}
```

**ê²€ì¦**:
- [ ] ê°€êµ¬ ë°°ì¹˜/ì œê±° ë™ì‘
- [ ] ì§ì› ì¢Œì„ ë°°ì¹˜/í•´ì œ ë™ì‘
- [ ] ë²„í”„ ì¬ê³„ì‚° ì •ìƒ ë™ì‘
- [ ] ì €ì¥/ë¡œë“œ ì‹œ ê·¸ë¦¬ë“œ ìƒíƒœ ë³µì›

---

### Sprint 3: AI & Interaction (3ì¼, 12ì‹œê°„)

#### Task 3.1: Buff/Debuff ê³„ì‚° ì—”ì§„ (6ì‹œê°„)
**íŒŒì¼**: `src/systems/officeSystem.ts` (ì‹ ê·œ ìƒì„±)

**êµ¬ì¡°**:
```typescript
import { Employee, EmployeeTrait } from '@/types'
import { GridCell, BuffEffect } from '@/types/office'
import { TRAIT_DEFINITIONS } from '@/data/traits'

// ì§ì›ë³„ ì¢…í•© ë²„í”„ ê³„ì‚°
export function calculateEmployeeBuffs(
  employee: Employee,
  seatCell: GridCell,
  adjacentEmployees: Employee[]
): EmployeeBuffs {
  const buffs: EmployeeBuffs = {
    staminaRecovery: 1.0,
    stressGeneration: 1.0,
    skillGrowth: 1.0,
    tradingSpeed: 1.0,
    morale: 1.0
  }

  // 1. ê°€êµ¬ ë²„í”„ ì ìš©
  seatCell.buffs.forEach(buff => {
    applyBuff(buffs, buff)
  })

  // 2. ì„±ê²© íƒœê·¸ íš¨ê³¼ ì ìš©
  employee.traits?.forEach(trait => {
    const config = TRAIT_DEFINITIONS[trait]
    applyTraitEffects(buffs, config, seatCell, adjacentEmployees)
  })

  // 3. ì¸ì ‘ ì§ì› ìƒí˜¸ì‘ìš©
  adjacentEmployees.forEach(adj => {
    applyEmployeeInteraction(buffs, employee, adj)
  })

  return buffs
}

function applyBuff(buffs: EmployeeBuffs, buff: BuffEffect) {
  switch (buff.type) {
    case 'stamina_recovery':
      buffs.staminaRecovery *= buff.value
      break
    case 'stress_reduction':
      buffs.stressGeneration *= buff.value
      break
    case 'skill_growth':
      buffs.skillGrowth *= buff.value
      break
    case 'trading_speed':
      buffs.tradingSpeed *= buff.value
      break
    case 'morale':
      buffs.morale *= buff.value
      break
  }
}

function applyTraitEffects(
  buffs: EmployeeBuffs,
  traitConfig: TraitConfig,
  seatCell: GridCell,
  adjacentEmployees: Employee[]
) {
  const effects = traitConfig.effects

  // ê¸°ë³¸ íš¨ê³¼
  if (effects.staminaRecovery) {
    buffs.staminaRecovery *= effects.staminaRecovery
  }
  if (effects.stressGeneration) {
    buffs.stressGeneration *= effects.stressGeneration
  }
  if (effects.skillGrowth) {
    buffs.skillGrowth *= effects.skillGrowth
  }

  // ì¡°ê±´ë¶€ íš¨ê³¼
  if (effects.requiresCoffee) {
    const hasCoffee = seatCell.buffs.some(b =>
      b.type === 'stamina_recovery' && b.value > 1.0
    )
    if (!hasCoffee) {
      buffs.stressGeneration *= 1.3  // ì»¤í”¼ ì—†ìœ¼ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ ì¦ê°€
    }
  }

  if (effects.noiseIntolerance) {
    const hasNoise = seatCell.buffs.some(b =>
      b.type === 'trading_speed' && b.value > 1.0  // ì„œë²„ ë™ = ì†ŒìŒ
    )
    if (hasNoise) {
      buffs.stressGeneration *= effects.noiseIntolerance
    }
  }

  if (effects.requiresQuiet) {
    const noisyNeighbors = adjacentEmployees.filter(e =>
      e.role === 'trader'  // íŠ¸ë ˆì´ë”ëŠ” ì‹œë„ëŸ¬ì›€
    )
    if (noisyNeighbors.length > 0) {
      buffs.stressGeneration *= 1.5
    }
  }
}

function applyEmployeeInteraction(
  buffs: EmployeeBuffs,
  employee: Employee,
  adjacent: Employee
) {
  // sensitive + ì‹œë„ëŸ¬ìš´ ì§ì›
  if (employee.traits?.includes('sensitive') && adjacent.role === 'trader') {
    buffs.stressGeneration *= 2.0
  }

  // social + ë‹¤ë¥¸ ì§ì›
  if (employee.traits?.includes('social')) {
    buffs.morale *= 1.05  // ì¸ì ‘ ì§ì›ë‹¹ 5% ì¦ê°€
  }

  // introvert + ë§ì€ ì§ì›
  if (employee.traits?.includes('introvert') && adjacentEmployees.length > 2) {
    buffs.stressGeneration *= 1.2
  }
}

// í‹±ë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì—…ë°ì´íŠ¸ í•¨ìˆ˜
export function updateOfficeSystem(state: GameStore) {
  const { officeGrid, player } = state

  player.employees.forEach(employee => {
    if (employee.seatIndex === null) return

    const seatCell = officeGrid.cells.flat()[employee.seatIndex]
    const adjacentEmployees = getAdjacentEmployees(
      employee.seatIndex,
      player.employees,
      officeGrid
    )

    const buffs = calculateEmployeeBuffs(employee, seatCell, adjacentEmployees)

    // ìŠ¤íƒœë¯¸ë„ˆ íšŒë³µ
    employee.stamina = Math.min(
      100,
      employee.stamina + 0.1 * buffs.staminaRecovery
    )

    // ìŠ¤íŠ¸ë ˆìŠ¤ ì¦ê°€
    employee.stress = Math.min(
      100,
      (employee.stress || 0) + 0.05 * buffs.stressGeneration
    )

    // ë§Œì¡±ë„ ê³„ì‚°
    const targetStress = 30  // ëª©í‘œ ìŠ¤íŠ¸ë ˆìŠ¤
    const stressDiff = (employee.stress || 0) - targetStress
    const satisfactionChange = -stressDiff * 0.01

    employee.satisfaction = Math.max(
      0,
      Math.min(100, (employee.satisfaction || 100) + satisfactionChange)
    )

    // í‡´ì‚¬ ì²´í¬
    if (employee.satisfaction < 20) {
      // ê²½ê³  ì•Œë¦¼
      state.addNewsItem({
        id: generateId(),
        title: `${employee.name} í‡´ì‚¬ ìœ„ê¸°`,
        content: `ë§Œì¡±ë„ê°€ ë§¤ìš° ë‚®ìŠµë‹ˆë‹¤. í™˜ê²½ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.`,
        severity: 'warning',
        timestamp: state.time.tick
      })
    }

    if (employee.satisfaction < 10) {
      // ìë™ í‡´ì‚¬
      state.fireEmployee(employee.id)
      state.addNewsItem({
        id: generateId(),
        title: `${employee.name} í‡´ì‚¬`,
        content: `ë‚®ì€ ë§Œì¡±ë„ë¡œ ì¸í•´ í‡´ì‚¬í–ˆìŠµë‹ˆë‹¤.`,
        severity: 'negative',
        timestamp: state.time.tick
      })
    }
  })
}

function getAdjacentEmployees(
  seatIndex: number,
  allEmployees: Employee[],
  grid: OfficeGrid
): Employee[] {
  const x = seatIndex % grid.size.width
  const y = Math.floor(seatIndex / grid.size.width)

  const adjacent: Employee[] = []
  const directions = [
    { dx: -1, dy: 0 },
    { dx: 1, dy: 0 },
    { dx: 0, dy: -1 },
    { dx: 0, dy: 1 }
  ]

  directions.forEach(({ dx, dy }) => {
    const nx = x + dx
    const ny = y + dy

    if (nx >= 0 && nx < grid.size.width &&
        ny >= 0 && ny < grid.size.height) {
      const cell = grid.cells[ny][nx]
      if (cell.occupiedBy) {
        const emp = allEmployees.find(e => e.id === cell.occupiedBy)
        if (emp) adjacent.push(emp)
      }
    }
  })

  return adjacent
}
```

**tickEngine í†µí•©**:
```typescript
// src/engines/tickEngine.tsì— ì¶”ê°€
import { updateOfficeSystem } from '@/systems/officeSystem'

function tick() {
  // ... ê¸°ì¡´ ë¡œì§

  // âœ¨ ë§¤ í‹±ë§ˆë‹¤ ì‚¬ë¬´ì‹¤ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
  updateOfficeSystem(gameStore.getState())
}
```

**ê²€ì¦**:
- [ ] ë²„í”„ ê³„ì‚° ì •ìƒ ë™ì‘
- [ ] ìŠ¤íŠ¸ë ˆìŠ¤/ë§Œì¡±ë„ ì‹œë®¬ë ˆì´ì…˜ ë™ì‘
- [ ] í‡´ì‚¬ ë¡œì§ ë™ì‘
- [ ] ì„±ëŠ¥ ë¬¸ì œ ì—†ìŒ (100ëª… ì§ì›)

---

#### Task 3.2: ë§í’ì„  ì‹œìŠ¤í…œ (4ì‹œê°„)
**íŒŒì¼**:
- `src/data/chatter.ts` (ëŒ€ì‚¬ ë°ì´í„°)
- `src/components/office/ChatBubble.tsx` (UI ì»´í¬ë„ŒíŠ¸)

**ëŒ€ì‚¬ ë°ì´í„°**:
```typescript
// src/data/chatter.ts
export interface ChatterTemplate {
  id: string
  category: 'market' | 'stress' | 'satisfaction' | 'event' | 'random'
  condition: (employee: Employee, gameState: GameStore) => boolean
  messages: string[]
  priority: number  // ë†’ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ ë†’ìŒ
  cooldown: number  // ì¬ì‚¬ìš© ëŒ€ê¸° ì‹œê°„ (í‹±)
}

export const CHATTER_TEMPLATES: ChatterTemplate[] = [
  // ì£¼ê°€ ê´€ë ¨
  {
    id: 'stock_crash',
    category: 'market',
    condition: (emp, state) => {
      const portfolio = state.player.portfolio
      const totalLoss = portfolio.reduce((sum, p) => {
        const company = state.companies.find(c => c.ticker === p.ticker)
        if (!company) return sum
        const currentValue = company.price * p.shares
        return sum + (p.avgCost * p.shares - currentValue)
      }, 0)
      return totalLoss > 100000
    },
    messages: [
      "ì•„... ë‚´ ìŠ¤í†¡ì˜µì…˜ íœ´ì§€ì¡°ê° ë˜ë‚˜...",
      "ì´ë²ˆ ë‹¬ ì‹¤ì  ë§í–ˆë„¤...",
      "ì‹¤ì¥ë‹˜, ì´ê±° ì–´ë–¡í•˜ì£ ?",
      "ì†ì ˆ íƒ€ì´ë° ë†“ì³¤ë‚˜ë´ìš”..."
    ],
    priority: 8,
    cooldown: 300  // 5ë¶„
  },

  {
    id: 'profit_realized',
    category: 'market',
    condition: (emp, state) => {
      // ìµœê·¼ 1ë¶„ ë‚´ ìˆ˜ìµ ì‹¤í˜„
      const recentProfit = state.news
        .filter(n => n.timestamp > state.time.tick - 300)
        .some(n => n.content.includes('ìˆ˜ìµ ì‹¤í˜„'))
      return recentProfit
    },
    messages: [
      "ì˜¤ëŠ˜ íšŒì‹ ì†Œê³ ê¸°ì¸ê°€ìš” ì‹¤ì¥ë‹˜?!",
      "ì™€... ëŒ€ë°•ì´ë‹¤!",
      "ì´ë²ˆ ë‹¬ ì„±ê³¼ê¸‰ ê¸°ëŒ€ë˜ëŠ”ë°ìš”?",
      "ì‹¤ì¥ë‹˜ ì§±ì´ì—ìš”!"
    ],
    priority: 9,
    cooldown: 600
  },

  // ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë ¨
  {
    id: 'high_stress',
    category: 'stress',
    condition: (emp) => (emp.stress || 0) > 70,
    messages: [
      "ë„ˆë¬´ í˜ë“¤ë‹¤...",
      "ì‰¬ê³  ì‹¶ì–´ìš”...",
      "ë¨¸ë¦¬ê°€ ê¹¨ì§ˆ ê²ƒ ê°™ì•„ìš”",
      "ì´ëŸ¬ë‹¤ íƒˆëª¨ ì˜¬ ê²ƒ ê°™ì€ë°..."
    ],
    priority: 7,
    cooldown: 1800
  },

  {
    id: 'noise_complaint',
    category: 'stress',
    condition: (emp, state) => {
      if (!emp.traits?.includes('sensitive') || emp.seatIndex === null) {
        return false
      }
      const adjacent = getAdjacentEmployees(emp.seatIndex, state.player.employees, state.officeGrid)
      return adjacent.some(e => e.role === 'trader')
    },
    messages: [
      "ì˜†ìë¦¬ ê¹€ëŒ€ë¦¬ íƒ€ì ì†Œë¦¬ ë„ˆë¬´ ì»¤...",
      "ì „í™” ì¢€ ì‘ê²Œ ë°›ìœ¼ì‹œë©´ ì•ˆ ë˜ë‚˜ìš”?",
      "ì¡°ìš©íˆ ì¢€ í•´ì£¼ì„¸ìš”...",
      "í—¤ë“œì…‹ ë¼ê³  ì‹¶ë‹¤..."
    ],
    priority: 6,
    cooldown: 900
  },

  // ë§Œì¡±ë„ ê´€ë ¨
  {
    id: 'low_satisfaction',
    category: 'satisfaction',
    condition: (emp) => (emp.satisfaction || 100) < 40,
    messages: [
      "ì´ì§ ì•Œì•„ë´ì•¼ í•˜ë‚˜...",
      "ì´ íšŒì‚¬ ë¯¸ë˜ê°€ ìˆë‚˜?",
      "ì›”ê¸‰ì´ ì ì–´ë„ ë„ˆë¬´ ì ì–´...",
      "ì•¼ê·¼ ìˆ˜ë‹¹ì´ë¼ë„ ì£¼ë©´ ì¢‹ê² ëŠ”ë°..."
    ],
    priority: 8,
    cooldown: 1800
  },

  {
    id: 'high_satisfaction',
    category: 'satisfaction',
    condition: (emp) => (emp.satisfaction || 100) > 80,
    messages: [
      "ì´ íšŒì‚¬ ë¶„ìœ„ê¸° ì¢‹ì€ ê²ƒ ê°™ì•„ìš”",
      "ì—¬ê¸°ì„œ ì˜¤ë˜ ë‹¤ë‹ˆê³  ì‹¶ë„¤ìš”",
      "ì‹¤ì¥ë‹˜ ë•ë¶„ì— ì¬ë¯¸ìˆê²Œ ì¼í•´ìš”!",
      "ë³µì§€ê°€ ì¢‹ì•„ì„œ ë§Œì¡±ìŠ¤ëŸ¬ì›Œìš”"
    ],
    priority: 5,
    cooldown: 3600
  },

  // ëœë¤
  {
    id: 'random_chat',
    category: 'random',
    condition: () => Math.random() < 0.01,  // 1% í™•ë¥ 
    messages: [
      "ì ì‹¬ ë­ ë¨¹ì§€?",
      "ì»¤í”¼ í•œ ì” í•´ì•¼ê² ë‹¤",
      "ì˜¤ëŠ˜ ë‚ ì”¨ ì¢‹ë„¤ìš”",
      "ì£¼ë§ì— ë­ í•˜ì„¸ìš”?",
      "ì´ë²ˆ ë¶„ê¸° ëª©í‘œ ë‹¬ì„±í•  ìˆ˜ ìˆì„ê¹Œìš”?",
      "ì£¼ì‹ ê³µë¶€ ë” í•´ì•¼ê² ì–´ìš”"
    ],
    priority: 1,
    cooldown: 600
  }
]

// ëŒ€ì‚¬ ì„ íƒ ë¡œì§
export function selectChatter(
  employee: Employee,
  gameState: GameStore,
  lastChatterTime: number
): string | null {
  const currentTick = gameState.time.tick

  // ì¿¨ë‹¤ìš´ ì²´í¬
  if (currentTick - lastChatterTime < 300) {  // ìµœì†Œ 5ë¶„ ê°„ê²©
    return null
  }

  // ì¡°ê±´ ë§ëŠ” ëŒ€ì‚¬ í•„í„°ë§
  const candidates = CHATTER_TEMPLATES
    .filter(t => t.condition(employee, gameState))
    .sort((a, b) => b.priority - a.priority)

  if (candidates.length === 0) return null

  // ìµœìš°ì„  ìˆœìœ„ ëŒ€ì‚¬ ì„ íƒ
  const template = candidates[0]
  const message = template.messages[
    Math.floor(Math.random() * template.messages.length)
  ]

  return message
}
```

**UI ì»´í¬ë„ŒíŠ¸**:
```tsx
// src/components/office/ChatBubble.tsx
import { useEffect, useState } from 'react'
import { Employee } from '@/types'
import { selectChatter } from '@/data/chatter'
import { useGameStore } from '@/stores/gameStore'

interface ChatBubbleProps {
  employee: Employee
}

export function ChatBubble({ employee }: ChatBubbleProps) {
  const [message, setMessage] = useState<string | null>(null)
  const [lastChatterTime, setLastChatterTime] = useState(0)
  const gameState = useGameStore()

  useEffect(() => {
    // 5ì´ˆë§ˆë‹¤ ëŒ€ì‚¬ ì²´í¬
    const interval = setInterval(() => {
      const newMessage = selectChatter(employee, gameState, lastChatterTime)

      if (newMessage) {
        setMessage(newMessage)
        setLastChatterTime(gameState.time.tick)

        // 3ì´ˆ í›„ ì‚¬ë¼ì§
        setTimeout(() => setMessage(null), 3000)
      }
    }, 5000)

    return () => clearInterval(interval)
  }, [employee, gameState, lastChatterTime])

  if (!message) return null

  return (
    <div className="chat-bubble">
      <div className="bubble-content">
        {message}
      </div>
      <div className="bubble-tail" />
    </div>
  )
}
```

**ìŠ¤íƒ€ì¼ë§**:
```css
.chat-bubble {
  position: absolute;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;
  animation: fadeIn 0.3s ease-out;
}

.bubble-content {
  background: rgba(0, 0, 0, 0.9);
  color: #fff;
  padding: 8px 12px;
  border-radius: 12px;
  font-size: 12px;
  white-space: nowrap;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.bubble-tail {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid rgba(0, 0, 0, 0.9);
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}
```

**EmployeeTile í†µí•©**:
```tsx
// src/components/office/EmployeeTile.tsx
export function EmployeeTile({ employee }: { employee: Employee }) {
  return (
    <div className="employee-tile">
      <div className="employee-avatar">
        {/* ì•„ë°”íƒ€ ì´ë¯¸ì§€ */}
      </div>
      <div className="employee-name">{employee.name}</div>

      {/* âœ¨ ë§í’ì„  ì¶”ê°€ */}
      <ChatBubble employee={employee} />
    </div>
  )
}
```

**ê²€ì¦**:
- [ ] ëŒ€ì‚¬ ì„ íƒ ë¡œì§ ë™ì‘
- [ ] ë§í’ì„  ë Œë”ë§ ë° ì• ë‹ˆë©”ì´ì…˜
- [ ] ì¿¨ë‹¤ìš´ ì •ìƒ ë™ì‘
- [ ] ì„±ëŠ¥ ë¬¸ì œ ì—†ìŒ (100ê°œ ë§í’ì„ )

---

#### Task 3.3: ë§Œì¡±ë„/ìŠ¤íŠ¸ë ˆìŠ¤ ì‹œë®¬ë ˆì´ì…˜ í†µí•© (2ì‹œê°„)
**íŒŒì¼**: `src/systems/officeSystem.ts` (ì´ë¯¸ Task 3.1ì—ì„œ êµ¬í˜„ë¨)

**ì¶”ê°€ ê²€ì¦ í•­ëª©**:
- [ ] ìŠ¤íŠ¸ë ˆìŠ¤ê°€ 100ì— ë„ë‹¬ ì‹œ ìë™ ë³‘ê°€
- [ ] ë§Œì¡±ë„ê°€ 10 ì´í•˜ ì‹œ ìë™ í‡´ì‚¬
- [ ] ê²½ê³  ì•Œë¦¼ UI ë™ì‘
- [ ] 30ë…„ ì‹œë®¬ë ˆì´ì…˜ì—ì„œ ë°¸ëŸ°ìŠ¤ í™•ì¸

---

### Sprint 4: HR Manager (2ì¼, 8ì‹œê°„)

#### Task 4.1: HR Manager ì§ì±… ì¶”ê°€ (3ì‹œê°„)
**íŒŒì¼**:
- `src/types/index.ts` (íƒ€ì… í™•ì¥)
- `src/data/employees.ts` (HR ë§¤ë‹ˆì € ìƒì„±)

**íƒ€ì… í™•ì¥**:
```typescript
// src/types/index.ts
export type EmployeeRole =
  | 'analyst'
  | 'trader'
  | 'manager'
  | 'hr_manager'  // âœ¨ ì‹ ê·œ

interface Employee {
  // ... ê¸°ì¡´ í•„ë“œ

  // âœ¨ HR ë§¤ë‹ˆì € ì „ìš©
  isHRManager?: boolean
  hrReports?: HRReport[]
}

interface HRReport {
  id: string
  employeeId: string
  issue: 'high_stress' | 'low_satisfaction' | 'skill_gap'
  severity: 'low' | 'medium' | 'high'
  recommendation: string
  timestamp: number
}
```

**HR ë§¤ë‹ˆì € ìƒì„±**:
```typescript
// src/data/employees.ts
export function generateHRManager(): Employee {
  return {
    id: generateId(),
    name: generateName(),
    role: 'hr_manager',
    salary: 5000000,  // ì›”ê¸‰ 500ë§Œì›
    stamina: 100,
    hiredAt: 0,
    isHRManager: true,
    hrReports: [],
    traits: ['social', 'perfectionist'],  // ê³ ì • íƒœê·¸
    seatIndex: null,
    stress: 0,
    satisfaction: 100,
    skills: {
      analysis: 70,
      trading: 30,
      research: 60
    }
  }
}
```

**ê³ ìš© UI ì¶”ê°€**:
```tsx
// OfficeWindow.tsxì— HR ë§¤ë‹ˆì € ê³ ìš© ë²„íŠ¼ ì¶”ê°€
function HireHRManagerButton() {
  const hasHRManager = useGameStore(s =>
    s.player.employees.some(e => e.isHRManager)
  )
  const cash = useGameStore(s => s.player.cash)
  const canAfford = cash >= 10000000  // ì´ˆê¸° ë¹„ìš© 1000ë§Œì›

  if (hasHRManager) {
    return <div>HR ë§¤ë‹ˆì € ê³ ìš©ë¨</div>
  }

  return (
    <button
      disabled={!canAfford}
      onClick={() => {
        const hrManager = generateHRManager()
        gameStore.getState().hireEmployee(hrManager)
        gameStore.getState().player.cash -= 10000000
      }}
    >
      HR ë§¤ë‹ˆì € ê³ ìš© (1000ë§Œì›)
    </button>
  )
}
```

**ê²€ì¦**:
- [ ] HR ë§¤ë‹ˆì € ê³ ìš© ê°€ëŠ¥
- [ ] ì›”ê¸‰ ì •ìƒ ì§€ê¸‰
- [ ] íƒ€ì… ì—ëŸ¬ ì—†ìŒ

---

#### Task 4.2: ìë™í™” ì‹œìŠ¤í…œ (4ì‹œê°„)
**íŒŒì¼**: `src/systems/hrAutomation.ts` (ì‹ ê·œ ìƒì„±)

**ìë™í™” ë¡œì§**:
```typescript
// src/systems/hrAutomation.ts
import { GameStore } from '@/stores/gameStore'
import { Employee, HRReport } from '@/types'

// HR ë§¤ë‹ˆì € ìë™í™” í‹±
export function updateHRAutomation(state: GameStore) {
  const hrManager = state.player.employees.find(e => e.isHRManager)

  if (!hrManager) return

  // 1. ìŠ¤íŠ¸ë ˆìŠ¤ ë†’ì€ ì§ì› ìë™ ì¼€ì–´
  autoStressManagement(state, hrManager)

  // 2. ìŠ¤í‚¬ ìë™ í›ˆë ¨ (ë§¤ ë¶„ê¸° = 90ì¼ = 324,000í‹±)
  if (state.time.tick % 324000 === 0) {
    autoSkillTraining(state, hrManager)
  }

  // 3. ì£¼ê°„ ë³´ê³ ì„œ ìƒì„± (ë§¤ 7ì¼ = 25,200í‹±)
  if (state.time.tick % 25200 === 0) {
    generateWeeklyReport(state, hrManager)
  }
}

function autoStressManagement(state: GameStore, hrManager: Employee) {
  const highStressEmployees = state.player.employees.filter(
    e => !e.isHRManager && (e.stress || 0) > 60
  )

  highStressEmployees.forEach(emp => {
    // ìë™ ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ (ë¹„ìš© ë°œìƒ)
    const careCost = 50000  // 5ë§Œì›/íšŒ

    if (state.player.cash >= careCost) {
      emp.stress = Math.max(0, (emp.stress || 0) - 20)
      state.player.cash -= careCost

      // ë¡œê·¸ ê¸°ë¡
      hrManager.hrReports?.push({
        id: generateId(),
        employeeId: emp.id,
        issue: 'high_stress',
        severity: 'medium',
        recommendation: `${emp.name}ì—ê²Œ ìƒë‹´ ì œê³µ (ë¹„ìš©: ${careCost.toLocaleString()}ì›)`,
        timestamp: state.time.tick
      })
    }
  })
}

function autoSkillTraining(state: GameStore, hrManager: Employee) {
  state.player.employees
    .filter(e => !e.isHRManager && e.skills)
    .forEach(emp => {
      const skills = emp.skills!
      const trainingCost = 100000  // 10ë§Œì›/ë¶„ê¸°

      if (state.player.cash >= trainingCost) {
        // ëœë¤ ìŠ¤í‚¬ +1~5 ìƒìŠ¹
        const skillType = ['analysis', 'trading', 'research'][
          Math.floor(Math.random() * 3)
        ] as keyof EmployeeSkills

        skills[skillType] = Math.min(100, skills[skillType] + Math.floor(Math.random() * 5) + 1)

        state.player.cash -= trainingCost

        hrManager.hrReports?.push({
          id: generateId(),
          employeeId: emp.id,
          issue: 'skill_gap',
          severity: 'low',
          recommendation: `${emp.name} ${skillType} ìŠ¤í‚¬ í›ˆë ¨ ì™„ë£Œ`,
          timestamp: state.time.tick
        })
      }
    })
}

function generateWeeklyReport(state: GameStore, hrManager: Employee) {
  const reports = hrManager.hrReports || []

  // ìµœê·¼ 7ì¼ ë³´ê³ ì„œë§Œ ìœ ì§€
  const weekAgo = state.time.tick - 25200
  hrManager.hrReports = reports.filter(r => r.timestamp > weekAgo)

  // ì¤‘ìš”í•œ ì´ìŠˆ ì²´í¬
  const criticalIssues = state.player.employees.filter(
    e => !e.isHRManager && ((e.stress || 0) > 80 || (e.satisfaction || 100) < 30)
  )

  if (criticalIssues.length > 0) {
    // íŒì—… ì•Œë¦¼ (UIì—ì„œ ì²˜ë¦¬)
    state.addHRAlert({
      id: generateId(),
      title: 'ì£¼ê°„ HR ë³´ê³ ì„œ',
      content: `${criticalIssues.length}ëª…ì˜ ì§ì›ì´ ê¸´ê¸‰ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.`,
      employees: criticalIssues,
      timestamp: state.time.tick
    })
  }
}
```

**tickEngine í†µí•©**:
```typescript
// src/engines/tickEngine.ts
import { updateHRAutomation } from '@/systems/hrAutomation'

function tick() {
  // ... ê¸°ì¡´ ë¡œì§

  // âœ¨ HR ìë™í™” ì—…ë°ì´íŠ¸
  updateHRAutomation(gameStore.getState())
}
```

**ê²€ì¦**:
- [ ] ìë™ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ë™ì‘
- [ ] ìë™ ìŠ¤í‚¬ í›ˆë ¨ ë™ì‘
- [ ] ë¹„ìš© ì°¨ê° ì •ìƒ ë™ì‘
- [ ] ë³´ê³ ì„œ ìƒì„± ë™ì‘

---

#### Task 4.3: ë³´ê³ ì„œ UI (1ì‹œê°„)
**íŒŒì¼**: `src/components/windows/HRReportModal.tsx` (ì‹ ê·œ ìƒì„±)

**UI êµ¬ì¡°**:
```tsx
// src/components/windows/HRReportModal.tsx
import { useGameStore } from '@/stores/gameStore'

export function HRReportModal({ alertId }: { alertId: string }) {
  const alert = useGameStore(s =>
    s.hrAlerts?.find(a => a.id === alertId)
  )

  if (!alert) return null

  return (
    <Modal title={alert.title} onClose={() => dismissAlert(alertId)}>
      <div className="hr-report">
        <p className="report-content">{alert.content}</p>

        <div className="critical-employees">
          <h4>ê¸´ê¸‰ ê´€ë¦¬ ëŒ€ìƒ ì§ì›</h4>
          {alert.employees.map(emp => (
            <EmployeeIssueCard key={emp.id} employee={emp} />
          ))}
        </div>

        <div className="actions">
          <button onClick={() => handleAutoResolve(alert)}>
            ìë™ ì²˜ë¦¬ (ë¹„ìš© ë°œìƒ)
          </button>
          <button onClick={() => dismissAlert(alertId)}>
            ë‚˜ì¤‘ì— ì²˜ë¦¬
          </button>
        </div>
      </div>
    </Modal>
  )
}

function EmployeeIssueCard({ employee }: { employee: Employee }) {
  const stress = employee.stress || 0
  const satisfaction = employee.satisfaction || 100

  return (
    <div className="employee-issue">
      <div className="employee-info">
        <span className="name">{employee.name}</span>
        <span className="role">{employee.role}</span>
      </div>

      <div className="metrics">
        <div className={stress > 80 ? 'critical' : ''}>
          ìŠ¤íŠ¸ë ˆìŠ¤: {stress.toFixed(0)}%
        </div>
        <div className={satisfaction < 30 ? 'critical' : ''}>
          ë§Œì¡±ë„: {satisfaction.toFixed(0)}%
        </div>
      </div>

      <div className="recommendation">
        {stress > 80 && 'íœ´ê°€ ê¶Œì¥'}
        {satisfaction < 30 && 'í™˜ê²½ ê°œì„  í•„ìš”'}
      </div>
    </div>
  )
}

function handleAutoResolve(alert: HRAlert) {
  const totalCost = alert.employees.length * 100000  // 10ë§Œì›/ëª…

  if (confirm(`ì´ ${totalCost.toLocaleString()}ì›ì´ ì†Œìš”ë©ë‹ˆë‹¤. ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
    alert.employees.forEach(emp => {
      // ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ
      emp.stress = Math.max(0, (emp.stress || 0) - 30)

      // ë§Œì¡±ë„ ì¦ê°€
      emp.satisfaction = Math.min(100, (emp.satisfaction || 100) + 20)
    })

    gameStore.getState().player.cash -= totalCost
    dismissAlert(alert.id)
  }
}
```

**ê²€ì¦**:
- [ ] ë³´ê³ ì„œ ëª¨ë‹¬ ë Œë”ë§
- [ ] ìë™ ì²˜ë¦¬ ë™ì‘
- [ ] ë¹„ìš© ì°¨ê° ì •ìƒ ë™ì‘
- [ ] UI/UX ì§ê´€ì 

---

## ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TB
    subgraph Sprint1[Sprint 1: Foundation]
        T11[Task 1.1: íƒ€ì… í™•ì¥]
        T12[Task 1.2: íƒœê·¸ ì •ì˜]
        T13[Task 1.3: ìƒì„± ë¡œì§]
        T14[Task 1.4: UI í‘œì‹œ]

        T11 --> T12
        T12 --> T13
        T13 --> T14
    end

    subgraph Sprint2[Sprint 2: Grid System]
        T21[Task 2.1: Grid íƒ€ì…]
        T22[Task 2.2: ê°€êµ¬ ì •ì˜]
        T23[Task 2.3: UI ê°œí¸]
        T24[Task 2.4: ìŠ¤í† ì–´ í†µí•©]

        T21 --> T22
        T22 --> T23
        T23 --> T24
    end

    subgraph Sprint3[Sprint 3: AI & Interaction]
        T31[Task 3.1: Buff ì—”ì§„]
        T32[Task 3.2: ë§í’ì„ ]
        T33[Task 3.3: ì‹œë®¬ë ˆì´ì…˜]

        T31 --> T33
    end

    subgraph Sprint4[Sprint 4: HR Manager]
        T41[Task 4.1: HR ì§ì±…]
        T42[Task 4.2: ìë™í™”]
        T43[Task 4.3: ë³´ê³ ì„œ UI]

        T41 --> T42
        T42 --> T43
    end

    Sprint1 --> Sprint2
    Sprint1 --> Sprint3
    Sprint2 --> Sprint3
    Sprint3 --> Sprint4

    style T23 fill:#ff6b6b
    style T24 fill:#ff6b6b
    style T31 fill:#ff6b6b
```

**ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥ êµ¬ê°„**:
- **Group A**: Task 1.1, 1.2 (ë³‘ë ¬)
- **Group B**: Task 2.1, 2.2 (ë³‘ë ¬)
- **Group C**: Task 3.2, 4.1 (ì„œë¡œ ë…ë¦½)

---

## ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Sprint 1 ê²€ì¦
- [ ] ì‹ ê·œ ì§ì› ìƒì„± ì‹œ ì„±ê²© íƒœê·¸ ìë™ ë¶€ì—¬
- [ ] íƒœê·¸ ë¶„í¬ í™•ì¸ (common > uncommon > rare)
- [ ] UIì— íƒœê·¸ ì•„ì´ì½˜ ë° íˆ´íŒ í‘œì‹œ
- [ ] ê¸°ì¡´ ì €ì¥ íŒŒì¼ ë¡œë“œ ê°€ëŠ¥ (í•˜ìœ„ í˜¸í™˜ì„±)
- [ ] `npm run build` íƒ€ì… ì—ëŸ¬ ì—†ìŒ

### Sprint 2 ê²€ì¦
- [ ] 10x10 ê·¸ë¦¬ë“œ ë Œë”ë§ ì„±ëŠ¥ (60fps)
- [ ] ê°€êµ¬ êµ¬ë§¤ ë° ë°°ì¹˜ ë™ì‘
- [ ] ê°€êµ¬ ì œê±° ë° í™˜ë¶ˆ ë™ì‘
- [ ] ì§ì› ì¢Œì„ ë°°ì¹˜/í•´ì œ ë™ì‘
- [ ] ë²„í”„ ì¬ê³„ì‚° ì •ìƒ ë™ì‘
- [ ] ì €ì¥/ë¡œë“œ ì‹œ ê·¸ë¦¬ë“œ ìƒíƒœ ë³µì›
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (1024px+ ë„ˆë¹„)

### Sprint 3 ê²€ì¦
- [ ] ê°€êµ¬ ë²„í”„ê°€ ì§ì›ì—ê²Œ ì ìš©ë¨
- [ ] ì„±ê²© íƒœê·¸ íš¨ê³¼ ë™ì‘ (ì•¼í–‰ì„±, ì¹´í˜ì¸ ì¤‘ë… ë“±)
- [ ] ì¸ì ‘ ì§ì› ìƒí˜¸ì‘ìš© ë™ì‘ (ì˜ˆë¯¼í•¨ + ì‹œë„ëŸ¬ìš´ ì§ì›)
- [ ] ìŠ¤íŠ¸ë ˆìŠ¤/ë§Œì¡±ë„ ì‹œë®¬ë ˆì´ì…˜ ë™ì‘
- [ ] í‡´ì‚¬ ë¡œì§ ë™ì‘ (ë§Œì¡±ë„ < 10)
- [ ] ë§í’ì„  ë Œë”ë§ ë° ì• ë‹ˆë©”ì´ì…˜
- [ ] ëŒ€ì‚¬ ì„ íƒ ë¡œì§ ì •ìƒ ë™ì‘
- [ ] ì„±ëŠ¥ ë¬¸ì œ ì—†ìŒ (100ëª… ì§ì› + ë§í’ì„ )

### Sprint 4 ê²€ì¦
- [ ] HR ë§¤ë‹ˆì € ê³ ìš© ë° ì›”ê¸‰ ì§€ê¸‰
- [ ] ìë™ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ë™ì‘
- [ ] ìë™ ìŠ¤í‚¬ í›ˆë ¨ ë™ì‘
- [ ] ì£¼ê°„ ë³´ê³ ì„œ ìƒì„± ë° íŒì—… í‘œì‹œ
- [ ] ìë™ ì²˜ë¦¬ ë¹„ìš© ì°¨ê° ì •ìƒ ë™ì‘
- [ ] UI/UX ì§ê´€ì 

### ìµœì¢… í†µí•© ê²€ì¦
- [ ] **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: 100ëª… ì§ì› + 50ê°œ ê°€êµ¬ â†’ 60fps ìœ ì§€
- [ ] **ê²Œì„í”Œë ˆì´ ë°¸ëŸ°ìŠ¤**: 30ë…„ í”Œë ˆì´ ì‹œë®¬ë ˆì´ì…˜
  - ìŠ¤íŠ¸ë ˆìŠ¤/ë§Œì¡±ë„ ê· í˜• í™•ì¸
  - ê°€êµ¬ ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼ ì ì ˆì„±
  - í‡´ì‚¬ìœ¨ ì ì • ìˆ˜ì¤€ (ì—° 5% ì´í•˜)
- [ ] **ì €ì¥/ë¡œë“œ**: ëª¨ë“  ìƒíƒœ ë³µì› í™•ì¸
  - ì§ì› íƒœê·¸, ì¢Œì„, ìŠ¤íŠ¸ë ˆìŠ¤, ë§Œì¡±ë„
  - ê°€êµ¬ ë°°ì¹˜, ë²„í”„ ìƒíƒœ
  - HR ë§¤ë‹ˆì € ê³ ìš© ìƒíƒœ
- [ ] **íƒ€ì… ì•ˆì •ì„±**: `npm run build` ì—ëŸ¬ ì—†ìŒ
- [ ] **ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸**: ì‹ ê·œ ìœ ì € 5ëª… í…ŒìŠ¤íŠ¸
  - 5ë¶„ ë‚´ ê·¸ë¦¬ë“œ ë°°ì¹˜ ì´í•´
  - ê°€êµ¬ íš¨ê³¼ ì§ê´€ì  ì´í•´
  - íƒœê·¸ ì‹œìŠ¤í…œ ì´í•´

---

## ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘ì±…

### ğŸ”´ High Risk

#### 1. ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ ë³µì¡ë„
**ìœ„í—˜**: OfficeWindow ì „ë©´ ì¬ì‘ì„±ìœ¼ë¡œ ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸ ë°œìƒ
**ëŒ€ì‘**:
- [ ] ë‹¨ê³„ë³„ ê°œë°œ (ë Œë”ë§ â†’ ë°°ì¹˜ â†’ ì¸í„°ë™ì…˜)
- [ ] ê° ë‹¨ê³„ë§ˆë‹¤ ë…ë¦½ í…ŒìŠ¤íŠ¸
- [ ] ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ ë·°ë¥¼ ì„ì‹œë¡œ ìœ ì§€ (ì „í™˜ ì˜µì…˜)

#### 2. ì„±ëŠ¥ ë¬¸ì œ (O(nÂ²) ì—°ì‚°)
**ìœ„í—˜**: 100ëª… ì§ì› Ã— ë§¤ í‹± ì£¼ë³€ ì²´í¬ = ì„±ëŠ¥ ì €í•˜
**ëŒ€ì‘**:
- [ ] Spatial Hashing êµ¬í˜„ (ê³µê°„ ë¶„í• )
- [ ] ë˜ëŠ” ì²´í¬ ì£¼ê¸° ì™„í™” (1ì´ˆ = 5í‹±ë§ˆë‹¤)
- [ ] useMemoë¡œ ë²„í”„ ê³„ì‚° ìºì‹±
- [ ] ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ (Chrome DevTools)

### ğŸŸ¡ Medium Risk

#### 3. Zustand ìŠ¤í† ì–´ ë¹„ëŒ€í™”
**ìœ„í—˜**: ê·¸ë¦¬ë“œ ìƒíƒœ ì¶”ê°€ë¡œ ìŠ¤í† ì–´ ë³µì¡ë„ ì¦ê°€
**ëŒ€ì‘**:
- [ ] Zustand slice patternìœ¼ë¡œ ëª¨ë“ˆí™”
- [ ] ë˜ëŠ” Context APIë¡œ UI ìƒíƒœë§Œ ë¶„ë¦¬
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (React DevTools)

#### 4. UI/UX í•™ìŠµ ê³¡ì„ 
**ìœ„í—˜**: ê·¸ë¦¬ë“œ ë°°ì¹˜ê°€ ì§ê´€ì ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
**ëŒ€ì‘**:
- [ ] íŠœí† ë¦¬ì–¼ íŒì—… ì¶”ê°€ (ì²« ì‚¬ìš© ì‹œ)
- [ ] ìë™ ë°°ì¹˜ ë²„íŠ¼ ì œê³µ (HR ë§¤ë‹ˆì € ì—†ì–´ë„)
- [ ] ê°€êµ¬ íš¨ê³¼ ì‹œê°í™” (ë²„í”„ ë²”ìœ„ í•˜ì´ë¼ì´íŠ¸)

### ğŸŸ¢ Low Risk

#### 5. íƒ€ì… ì•ˆì •ì„±
**ìœ„í—˜**: Employee íƒ€ì… í™•ì¥ ì‹œ ê¸°ì¡´ ì½”ë“œ ì˜í–¥
**ëŒ€ì‘**:
- [ ] ì„ íƒì  ì†ì„±ìœ¼ë¡œ ì¶”ê°€ (traits?, seatIndex?)
- [ ] ê¸°ë³¸ê°’ ì œê³µìœ¼ë¡œ í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€
- [ ] íƒ€ì… ê°€ë“œ í•¨ìˆ˜ ì‘ì„±

---

## ë‹¤ìŒ ë‹¨ê³„

### êµ¬í˜„ í›„ ì‘ì—…
1. **ì„±ëŠ¥ ìµœì í™”**
   - í”„ë¡œíŒŒì¼ë§ ë° ë³‘ëª© ì§€ì  ê°œì„ 
   - Spatial Hashing ë˜ëŠ” ì²´í¬ ì£¼ê¸° ì¡°ì •
   - ë©”ëª¨ì´ì œì´ì…˜ ì ìš©

2. **ë°¸ëŸ°ìŠ¤ ì¡°ì •**
   - 30ë…„ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ê²Œì„ ë°¸ëŸ°ìŠ¤ ê²€ì¦
   - ê°€êµ¬ ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼ ì¡°ì •
   - ì„±ê²© íƒœê·¸ íš¨ê³¼ ë°¸ëŸ°ìŠ¤ ì¡°ì •

3. **ì¶”ê°€ ê¸°ëŠ¥ (ì„ íƒ)**
   - ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê°€êµ¬ ë°°ì¹˜ (v2)
   - ì‚¬ë¬´ì‹¤ í™•ì¥ ì‹œìŠ¤í…œ (15x15, 20x20)
   - ë” ë§ì€ ì„±ê²© íƒœê·¸ (20ê°€ì§€ë¡œ í™•ì¥)
   - ì§ì› ìŠ¤í‚¨/ì•„ë°”íƒ€ ì»¤ìŠ¤í„°ë§ˆì´ì§•

4. **ë¬¸ì„œí™”**
   - ì‹œìŠ¤í…œ ì„¤ê³„ ë¬¸ì„œ ì‘ì„±
   - API ë¬¸ì„œ ìƒì„±
   - ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±

### ì‹¤í–‰ ëª…ë ¹
```bash
# ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬í˜„í•˜ë ¤ë©´:
/sc:implement claudedocs/workflow_employee_rpg_system.md

# ë˜ëŠ” íŠ¹ì • Sprintë§Œ:
/sc:implement claudedocs/workflow_employee_rpg_system.md --sprint 1
```

---

**ì‘ì„±ì**: Claude Code
**ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •**: 2026-02-14
