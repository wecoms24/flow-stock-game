# Phase 1 í†µí•© í…ŒìŠ¤íŠ¸ ê³„íš

## ê°œìš”

Regime Detection + í•œêµ­í˜• Price Limits + Order Flow íŠœë‹ì˜ ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸ ë° ë°¸ëŸ°ìŠ¤ ê²€ì¦.

---

## ðŸŽ¯ í…ŒìŠ¤íŠ¸ ëª©í‘œ

### 1. ê¸°ëŠ¥ ê²€ì¦ (Functional Testing)
- ê° ì‹œìŠ¤í…œì´ ë…ë¦½ì ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ìž‘ë™í•˜ëŠ”ê°€?
- ì‹œìŠ¤í…œ ê°„ ìƒí˜¸ìž‘ìš©ì´ ì˜ˆìƒëŒ€ë¡œ ë™ìž‘í•˜ëŠ”ê°€?

### 2. ë°¸ëŸ°ìŠ¤ ê²€ì¦ (Balance Testing)
- ê²Œìž„ì´ ì—¬ì „ížˆ í”Œë ˆì´ ê°€ëŠ¥í•œê°€?
- ê·¹ë‹¨ì  ìƒí™©ì—ì„œ ê²Œìž„ì´ ê¹¨ì§€ì§€ ì•ŠëŠ”ê°€?

### 3. ì„±ëŠ¥ ê²€ì¦ (Performance Testing)
- ì¶”ê°€ëœ ì‹œìŠ¤í…œìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ê°€ ìžˆëŠ”ê°€?
- 30ë…„ ì‹œë®¬ë ˆì´ì…˜ì´ ì›í™œí•˜ê²Œ ì‹¤í–‰ë˜ëŠ”ê°€?

---

## ðŸ“‹ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1-A: Regime Detection

#### ê¸°ë³¸ ë™ìž‘
- [ ] ê²Œìž„ ì‹œìž‘ ì‹œ CALM ë ˆì§ìœ¼ë¡œ ì´ˆê¸°í™”
- [ ] Taskbarì— ë ˆì§ ì¸ë””ì¼€ì´í„° í‘œì‹œ
- [ ] ë ˆì§ ì „í™˜ ì‹œ Toast ì•Œë¦¼
- [ ] ë ˆì§ì— ë”°ë¼ ë³€ë™ì„± ë³€í™” (CALM 0.5x, VOLATILE 1.0x, CRISIS 2.0x)

#### ì—­ì‚¬ì  ì´ë²¤íŠ¸
- [ ] 1997ë…„ ì™¸í™˜ìœ„ê¸° â†’ CRISIS ë ˆì§ ì§„ìž…
- [ ] 2008ë…„ ê¸ˆìœµìœ„ê¸° â†’ CRISIS ë ˆì§ ì§„ìž…
- [ ] 2020ë…„ COVID-19 â†’ VOLATILE/CRISIS ë ˆì§ ì§„ìž…

#### HMM ì „ì´ í™•ë¥ 
- [ ] CALM ë ˆì§ 95% ìœ ì§€ (ì •ìƒ ì‹œê¸°)
- [ ] CRISIS ë ˆì§ì—ì„œ ë¹ ë¥¸ íšŒë³µ (10% CALM, 40% VOLATILE)
- [ ] VOLATILE ë ˆì§ì˜ ì¤‘ê°„ ì „í™˜ (30% CALM, 65% VOLATILE, 5% CRISIS)

### Phase 1-B: í•œêµ­í˜• Price Limits

#### Â±30% ê°€ê²©ì œí•œ
- [ ] ìž¥ ì‹œìž‘ ì‹œ sessionOpenPrice ê¸°ë¡
- [ ] ìƒí•œê°€ ë„ë‹¬ ì‹œ ê°€ê²© ê³ ì • (+30%)
- [ ] í•˜í•œê°€ ë„ë‹¬ ì‹œ ê°€ê²© ê³ ì • (-30%)
- [ ] UIì— ìƒí•œê°€/í•˜í•œê°€ í‘œì‹œ

#### VI (Volatility Interruption)
- [ ] 1ë¶„(3 ticks) ë‚´ Â±3% ë³€ë™ ì‹œ VI ë°œë™
- [ ] VI ë°œë™ ì‹œ 2ë¶„(6 ticks) ê±°ëž˜ ì •ì§€
- [ ] VI ë™ì•ˆ ê°€ê²© ê³ ì •
- [ ] UIì— "âš ï¸ VI ë°œë™ ì¤‘" í‘œì‹œ
- [ ] canTrade() í•¨ìˆ˜ë¡œ ê±°ëž˜ ì°¨ë‹¨

#### ì„œí‚·ë¸Œë ˆì´ì»¤
- [ ] KOSPI -8% â†’ Level 1 ë°œë™ (60 ticks ì •ì§€)
- [ ] KOSPI -15% â†’ Level 2 ë°œë™ (120 ticks ì •ì§€)
- [ ] KOSPI -20% â†’ Level 3 ë°œë™ (ìž¥ ë§ˆê°)
- [ ] Taskbarì— "ðŸš¨ CB Lv{level}" í‘œì‹œ
- [ ] ì„œí‚·ë¸Œë ˆì´ì»¤ ë™ì•ˆ ì „ ì¢…ëª© ê±°ëž˜ ë¶ˆê°€

#### Tick Size
- [ ] ê° ê°€ê²©ëŒ€ë³„ í˜¸ê°€ ë‹¨ìœ„ ì •í™•ížˆ ì ìš©:
  - 500ì› â†’ 1ì› (500ì›)
  - 3,000ì› â†’ 5ì› (3,000ì›)
  - 7,500ì› â†’ 10ì› (7,500ì›)
  - 25,000ì› â†’ 50ì› (25,000ì›)
  - 100,000ì› â†’ 100ì› (100,000ì›)

### Phase 0: Order Flow (ê¸°ì¡´ ê²€ì¦)

- [x] 100M ê±°ëž˜ ì‹œ +0.096%/ì‹œê°„ íš¨ê³¼
- [x] AI ê±°ëž˜ ì˜í–¥ë„ ì²´ê°
- [x] ì„±ëŠ¥ ë¬¸ì œ ì—†ìŒ

---

## ðŸ§ª ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: 1995-2025 ì „ì²´ ì‹œë®¬ë ˆì´ì…˜

**ëª©í‘œ**: 30ë…„ ì „ì²´ ê¸°ê°„ ì •ìƒ ìž‘ë™ í™•ì¸

**ì ˆì°¨**:
1. Easy ë‚œì´ë„, ì´ˆê¸° ìžê¸ˆ 10ì–µ
2. ê²Œìž„ ì†ë„ 4ë°°
3. AI ìžë™ ê±°ëž˜ í™œì„±í™”
4. ìžë™ ì§„í–‰ (ê°œìž… ì—†ìŒ)

**ì„±ê³µ ê¸°ì¤€**:
- [ ] ê²Œìž„ í¬ëž˜ì‹œ ì—†ìŒ
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì—†ìŒ
- [ ] ë ˆì§ ì „í™˜ ìµœì†Œ 10íšŒ ì´ìƒ
- [ ] ìƒí•œê°€/í•˜í•œê°€ ë°œìƒ
- [ ] VI ë°œë™ ìµœì†Œ 5íšŒ ì´ìƒ
- [ ] ì„œí‚·ë¸Œë ˆì´ì»¤ ë°œë™ (1997, 2008, 2020)

**ì¸¡ì • ì§€í‘œ**:
- ë ˆì§ ë¶„í¬: CALM ~95%, VOLATILE ~4%, CRISIS ~1%
- í‰ê·  Frame Rate: >30 FPS
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: <500MB

### ì‹œë‚˜ë¦¬ì˜¤ 2: 1997 ì™¸í™˜ìœ„ê¸° ì§‘ì¤‘ í…ŒìŠ¤íŠ¸

**ëª©í‘œ**: CRISIS ë ˆì§ + ì„œí‚·ë¸Œë ˆì´ì»¤ ë™ì‹œ ìž‘ë™ í™•ì¸

**ì ˆì°¨**:
1. 1997ë…„ 10ì›”ë¶€í„° ì‹œìž‘
2. ê²Œìž„ ì†ë„ 2ë°°
3. ì‹œìž¥ í­ë½ ì´ë²¤íŠ¸ ìˆ˜ë™ íŠ¸ë¦¬ê±° (NewsWindow)

**ì„±ê³µ ê¸°ì¤€**:
- [ ] CRISIS ë ˆì§ ì§„ìž…
- [ ] KOSPI -20% â†’ Level 3 ì„œí‚·ë¸Œë ˆì´ì»¤
- [ ] ë‹¤ìˆ˜ ì¢…ëª© í•˜í•œê°€
- [ ] AI ê²½ìŸìž íŒ¨ë‹‰ ë§¤ë„
- [ ] ê²Œìž„ ì—¬ì „ížˆ í”Œë ˆì´ ê°€ëŠ¥

### ì‹œë‚˜ë¦¬ì˜¤ 3: 1999 Tech Bubble ì§‘ì¤‘ í…ŒìŠ¤íŠ¸

**ëª©í‘œ**: ìƒí•œê°€ ì—°ì† ë°œìƒ í™•ì¸

**ì ˆì°¨**:
1. 1999ë…„ 1ì›”ë¶€í„° ì‹œìž‘
2. Tech ì„¹í„°ì— boom ì´ë²¤íŠ¸ ìˆ˜ë™ íŠ¸ë¦¬ê±°
3. Samsung 100M ë§¤ìˆ˜

**ì„±ê³µ ê¸°ì¤€**:
- [ ] Tech ì¢…ëª© ìƒí•œê°€ ì—°ì† (3ì¼ ì´ìƒ)
- [ ] VI ë°œë™ (ê¸‰ë“±ìœ¼ë¡œ ì¸í•œ)
- [ ] VOLATILE ë ˆì§ ì§„ìž…
- [ ] Order Flow íš¨ê³¼ë¡œ ì¶”ê°€ ìƒìŠ¹

### ì‹œë‚˜ë¦¬ì˜¤ 4: ê·¹í•œ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸

**ëª©í‘œ**: ì‹œìŠ¤í…œ í•œê³„ í™•ì¸

**ì ˆì°¨**:
1. Hard ë‚œì´ë„
2. AI ê²½ìŸìž 10ëª…
3. ê²Œìž„ ì†ë„ 4ë°°
4. ì—°ì† ë§¤ìˆ˜/ë§¤ë„ (100M Ã— 10íšŒ)

**ì„±ê³µ ê¸°ì¤€**:
- [ ] VI ì—°ì† ë°œë™ ì²˜ë¦¬
- [ ] ì„œí‚·ë¸Œë ˆì´ì»¤ ì¤‘ì²© ì²˜ë¦¬
- [ ] Order Flow í¬í™” ì²˜ë¦¬ (tanh)
- [ ] ê²Œìž„ í¬ëž˜ì‹œ ì—†ìŒ

---

## ðŸ”§ ë°¸ëŸ°ìŠ¤ ì¡°ì • ê°€ì´ë“œ

### Regime ì „ì´ í™•ë¥  ì¡°ì •

**í˜„ìž¬ ì„¤ì •**:
```typescript
REGIME_TRANSITIONS = {
  CALM: { CALM: 0.95, VOLATILE: 0.04, CRISIS: 0.01 },
  VOLATILE: { CALM: 0.30, VOLATILE: 0.65, CRISIS: 0.05 },
  CRISIS: { CALM: 0.10, VOLATILE: 0.40, CRISIS: 0.50 }
}
```

**ì¡°ì • ë°©í–¥**:
- CRISISê°€ ë„ˆë¬´ ìž¦ìœ¼ë©´ â†’ `CALM.CRISIS: 0.01 â†’ 0.005`
- CRISISê°€ ë„ˆë¬´ ë“œë¬¼ë©´ â†’ `VOLATILE.CRISIS: 0.05 â†’ 0.10`
- CRISIS íƒˆì¶œì´ ë„ˆë¬´ ë¹ ë¥´ë©´ â†’ `CRISIS.CRISIS: 0.50 â†’ 0.60`

### Order Flow ì¡°ì •

**í˜„ìž¬ ì„¤ì •**:
```typescript
IMPACT_COEFFICIENT: 0.01
MAX_DRIFT_IMPACT: 0.03
```

**ì¡°ì • ë°©í–¥**:
- ì²´ê° ë¶€ì¡± â†’ `IMPACT_COEFFICIENT: 0.01 â†’ 0.03`
- ì¡°ìž‘ ê°€ëŠ¥ â†’ `MAX_DRIFT_IMPACT: 0.03 â†’ 0.02`

### VI ë°œë™ ì¡°ì •

**í˜„ìž¬ ì„¤ì •**:
```typescript
VI_THRESHOLD: 0.03 // 3%
VI_WINDOW: 3 // ticks
VI_DURATION: 6 // ticks
```

**ì¡°ì • ë°©í–¥**:
- VI ë„ˆë¬´ ìž¦ìŒ â†’ `VI_THRESHOLD: 0.03 â†’ 0.05`
- VI ë„ˆë¬´ ë“œë¬¾ â†’ `VI_WINDOW: 3 â†’ 5`

### ì„œí‚·ë¸Œë ˆì´ì»¤ ì¡°ì •

**í˜„ìž¬ ì„¤ì •**:
```typescript
CIRCUIT_BREAKER_LEVELS = {
  LEVEL_1: -0.08,
  LEVEL_2: -0.15,
  LEVEL_3: -0.20
}
```

**ì¡°ì • ë°©í–¥**:
- Level 1 ë„ˆë¬´ ìž¦ìŒ â†’ `-0.08 â†’ -0.10`
- Level 3 ë„ˆë¬´ ë“œë¬¾ â†’ `-0.20 â†’ -0.15`

---

## ðŸ“Š ë°ì´í„° ìˆ˜ì§‘

### ë¡œê·¸ ìˆ˜ì§‘ (Console)

ê²Œìž„ ì‹¤í–‰ ì¤‘ ìžë™ ìˆ˜ì§‘:
```typescript
console.log('[REGIME]', regime, duration)
console.log('[VI]', companyId, trigger)
console.log('[CB]', level, kospiIndex)
console.log('[ORDER_FLOW]', companyId, impact)
```

### í†µê³„ ìˆ˜ì§‘ (30ë…„ ì‹œë®¬ë ˆì´ì…˜)

ìˆ˜ì§‘ í•­ëª©:
- ë ˆì§ë³„ í‹± ìˆ˜ (CALM, VOLATILE, CRISIS)
- ë ˆì§ ì „í™˜ íšŸìˆ˜
- VI ë°œë™ íšŸìˆ˜ (ì¢…ëª©ë³„)
- ì„œí‚·ë¸Œë ˆì´ì»¤ ë°œë™ íšŸìˆ˜ (ë ˆë²¨ë³„)
- ìƒí•œê°€/í•˜í•œê°€ ë„ë‹¬ íšŸìˆ˜
- í‰ê·  Order Flow impact

### ê¸°ëŒ€ ë¶„í¬

| ì§€í‘œ | ëª©í‘œ ë²”ìœ„ | í—ˆìš© ë²”ìœ„ |
|------|---------|---------|
| CALM ë¹„ìœ¨ | 95% | 90-97% |
| VOLATILE ë¹„ìœ¨ | 4% | 2-7% |
| CRISIS ë¹„ìœ¨ | 1% | 0.5-2% |
| VI ë°œë™ (30ë…„) | 100-200íšŒ | 50-500íšŒ |
| CB Level 1 | 5-10íšŒ | 3-20íšŒ |
| CB Level 3 | 2-3íšŒ | 1-5íšŒ |

---

## ðŸ› ì•Œë ¤ì§„ ì´ìŠˆ ë° í•´ê²°ì±…

### Issue 1: CRISIS ë ˆì§ì—ì„œ ëª¨ë“  ì¢…ëª© í•˜í•œê°€

**ì›ì¸**: CRISIS volatility (2.0x)ê°€ ë„ˆë¬´ ë†’ìŒ
**í•´ê²°**: `CRISIS_VOLATILITY_MULTIPLIER: 2.0 â†’ 1.5`

### Issue 2: VI ì—°ì† ë°œë™ìœ¼ë¡œ ê±°ëž˜ ë¶ˆê°€

**ì›ì¸**: VI ì¿¨ë‹¤ìš´ ë¶€ì¡±
**í•´ê²°**: `VI_COOLDOWN: 30 â†’ 60 ticks`

### Issue 3: Order Flowê°€ VI íŠ¸ë¦¬ê±°

**ì›ì¸**: ëŒ€ëŸ‰ ê±°ëž˜ â†’ 3% ë³€ë™ â†’ VI ë°œë™
**í•´ê²°**: Order Flow íš¨ê³¼ë¥¼ ì ì§„ì ìœ¼ë¡œ ì ìš© (decay)

### Issue 4: ì„œí‚·ë¸Œë ˆì´ì»¤ ì¤‘ ì‹œê°„ ë©ˆì¶¤

**ì›ì¸**: ê±°ëž˜ ì •ì§€ ì¤‘ì—ë„ tick ì§„í–‰
**í•´ê²°**: ì •ìƒ ë™ìž‘ (ì‹œê°„ì€ íë¥´ì§€ë§Œ ê±°ëž˜ë§Œ ì •ì§€)

---

## âœ… ìµœì¢… ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ëŠ¥ ì™„ì„±ë„
- [ ] Regime Detection 100% ìž‘ë™
- [ ] í•œêµ­í˜• Price Limits 100% ìž‘ë™
- [ ] Order Flow íŠœë‹ ì ìš©
- [ ] UI ëª¨ë“  ìƒíƒœ í‘œì‹œ
- [ ] Save/Load ì§€ì›

### ì„±ëŠ¥
- [ ] 30ë…„ ì‹œë®¬ë ˆì´ì…˜ < 5ë¶„ (ì†ë„ 4ë°° ê¸°ì¤€)
- [ ] Frame Rate > 30 FPS
- [ ] ë©”ëª¨ë¦¬ < 500MB

### ê²Œìž„í”Œë ˆì´
- [ ] ê²Œìž„ í¬ëž˜ì‹œ ì—†ìŒ
- [ ] ë°¸ëŸ°ìŠ¤ ìœ ì§€
- [ ] ë¦¬ì–¼ë¦¬ì¦˜ í–¥ìƒ
- [ ] êµìœ¡ì  ê°€ì¹˜ ì œê³µ

### ì½”ë“œ í’ˆì§ˆ
- [ ] TypeScript strict mode í†µê³¼
- [ ] ESLint ê²½ê³  0ê°œ
- [ ] Build ì„±ê³µ
- [ ] í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€

---

## ðŸ“… í…ŒìŠ¤íŠ¸ ì¼ì •

### Day 1-2: ìžë™í™” ì‹œë®¬ë ˆì´ì…˜
- 30ë…„ ì‹œë®¬ë ˆì´ì…˜ 100íšŒ ì‹¤í–‰
- í†µê³„ ë°ì´í„° ìˆ˜ì§‘
- ì´ìƒì¹˜ ë¶„ì„

### Day 3: ìˆ˜ë™ í…ŒìŠ¤íŠ¸
- ì—­ì‚¬ì  ì´ë²¤íŠ¸ ê²€ì¦
- ê·¹í•œ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸
- UI/UX ê²€ì¦

### Day 4: ë°¸ëŸ°ìŠ¤ ì¡°ì •
- í†µê³„ ê¸°ë°˜ íŒŒë¼ë¯¸í„° íŠœë‹
- ìž¬í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### Day 5: ë¬¸ì„œí™” ë° ë¦´ë¦¬ì¦ˆ
- ìµœì¢… í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ìž‘ì„±
- CHANGELOG ì—…ë°ì´íŠ¸
- Phase 1 ì™„ë£Œ ì„ ì–¸

---

## ðŸ“ í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ í…œí”Œë¦¿

```markdown
# Phase 1 í†µí•© í…ŒìŠ¤íŠ¸ ê²°ê³¼

## ì‹¤í–‰ í™˜ê²½
- ë‚ ì§œ: YYYY-MM-DD
- OS: macOS/Windows/Linux
- Node: v20.x
- npm: v10.x

## ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (30ë…„ Ã— 100íšŒ)

### ë ˆì§ ë¶„í¬
- CALM: X% (ëª©í‘œ 95%)
- VOLATILE: Y% (ëª©í‘œ 4%)
- CRISIS: Z% (ëª©í‘œ 1%)

### ì´ë²¤íŠ¸ ë°œìƒ íšŸìˆ˜
- VI ë°œë™: NíšŒ (ëª©í‘œ 100-200íšŒ)
- CB Level 1: NíšŒ (ëª©í‘œ 5-10íšŒ)
- CB Level 3: NíšŒ (ëª©í‘œ 2-3íšŒ)
- ìƒí•œê°€: NíšŒ
- í•˜í•œê°€: NíšŒ

### ì„±ëŠ¥ ì§€í‘œ
- í‰ê·  FPS: X fps
- ë©”ëª¨ë¦¬ ì‚¬ìš©: X MB
- 30ë…„ ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„: Xë¶„

## ë°œê²¬ëœ ì´ìŠˆ
1. [Issue Title] - [Severity: Low/Medium/High]
   - ìž¬í˜„ ë°©ë²•: ...
   - í•´ê²° ë°©ë²•: ...

## ë°¸ëŸ°ìŠ¤ ì¡°ì •
- [Parameter Name]: Old â†’ New
- ì´ìœ : ...

## ê²°ë¡ 
âœ… Phase 1 í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
```

---

## ðŸš€ ë‹¤ìŒ ë‹¨ê³„

í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„:
1. ë°œê²¬ëœ ì´ìŠˆ ìˆ˜ì •
2. ë°¸ëŸ°ìŠ¤ ìµœì¢… ì¡°ì •
3. Phase 1 ì™„ë£Œ ë¦¬í¬íŠ¸ ìž‘ì„±
4. Phase 2 (Factor Model) ë˜ëŠ” Phase 3 (Post-Launch) ê³ ë ¤
